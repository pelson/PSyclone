<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PSyclone: psyclone.gocean1p0.GOStencil Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="psyclone_v1.0_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSyclone
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classpsyclone_1_1gocean1p0_1_1GOStencil.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpsyclone_1_1gocean1p0_1_1GOStencil-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">psyclone.gocean1p0.GOStencil Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for psyclone.gocean1p0.GOStencil:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOStencil__inherit__graph.png" border="0" usemap="#psyclone_8gocean1p0_8GOStencil_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for psyclone.gocean1p0.GOStencil:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOStencil__coll__graph.png" border="0" usemap="#psyclone_8gocean1p0_8GOStencil_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8173091185538837dd36daf8b679cc1c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a8173091185538837dd36daf8b679cc1c">__init__</a> (self)</td></tr>
<tr class="separator:a8173091185538837dd36daf8b679cc1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af24f639f1059d531b7b35a7c080043b2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#af24f639f1059d531b7b35a7c080043b2">load</a> (self, stencil_info, kernel_name)</td></tr>
<tr class="separator:af24f639f1059d531b7b35a7c080043b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541628e7e1c9d98204ca9d8098bef38b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a541628e7e1c9d98204ca9d8098bef38b">has_stencil</a> (self)</td></tr>
<tr class="separator:a541628e7e1c9d98204ca9d8098bef38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a800748aca0ce297d84e04a80e6e6c25e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a800748aca0ce297d84e04a80e6e6c25e">name</a> (self)</td></tr>
<tr class="separator:a800748aca0ce297d84e04a80e6e6c25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0de8de6ede45dbd31f9f59328828812"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#ad0de8de6ede45dbd31f9f59328828812">depth</a> (self, index0, index1)</td></tr>
<tr class="separator:ad0de8de6ede45dbd31f9f59328828812"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">GOcean 1.0 stencil information for a kernel argument as obtained by
parsing the kernel meta-data. The expected structure of the
metadata and its meaning is provided in the description of the
load method</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l01427">1427</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a8173091185538837dd36daf8b679cc1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOStencil.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set up any internal variables. </pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l01434">1434</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="gocean1p0_8py_source.html#l01436">psyclone.gocean1p0.GOStencil._has_stencil</a>, <a class="el" href="gocean1p0_8py_source.html#l01439">psyclone.gocean1p0.GOStencil._initialised</a>, <a class="el" href="expression_8py_source.html#l00205">psyclone.expression.NamedArg._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l00491">psyclone.dynamo0p3.DynFuncDescriptor03._name</a>, <a class="el" href="gocean1p0_8py_source.html#l00880">psyclone.gocean1p0.GOKern._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01374">psyclone.gocean1p0.GOKernelGridArgument._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01438">psyclone.gocean1p0.GOStencil._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l07039">psyclone.dynamo0p3.DynStencil._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01437">psyclone.gocean1p0.GOStencil._stencil</a>, and <a class="el" href="dynamo0p3_8py_source.html#l07355">psyclone.dynamo0p3.DynKernelArgument._stencil</a>.</p>
<div class="fragment"><div class="line"><a name="l01434"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a8173091185538837dd36daf8b679cc1c"> 1434</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a8173091185538837dd36daf8b679cc1c">__init__</a>(self):</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Set up any internal variables. &#39;&#39;&#39;</span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a72ae619f32b9ee96b0e11ee7548c4b41">_has_stencil</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a66b8d79c1a962b456bdd61ae859e8ad6">_stencil</a> = [[0 <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(3)] <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(3)]</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#adc9b4a1877f1b0ed81d96d8ef9eacd0a">_name</a> = <span class="keywordtype">None</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5cc6e903d06f1e98c26d893f73b415e5">_initialised</a> = <span class="keyword">False</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a8173091185538837dd36daf8b679cc1c"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a8173091185538837dd36daf8b679cc1c">psyclone.gocean1p0.GOStencil.__init__</a></div><div class="ttdeci">def __init__(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01434">gocean1p0.py:1434</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a5cc6e903d06f1e98c26d893f73b415e5"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5cc6e903d06f1e98c26d893f73b415e5">psyclone.gocean1p0.GOStencil._initialised</a></div><div class="ttdeci">_initialised</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01439">gocean1p0.py:1439</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a72ae619f32b9ee96b0e11ee7548c4b41"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a72ae619f32b9ee96b0e11ee7548c4b41">psyclone.gocean1p0.GOStencil._has_stencil</a></div><div class="ttdeci">_has_stencil</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01436">gocean1p0.py:1436</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_adc9b4a1877f1b0ed81d96d8ef9eacd0a"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#adc9b4a1877f1b0ed81d96d8ef9eacd0a">psyclone.gocean1p0.GOStencil._name</a></div><div class="ttdeci">_name</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01438">gocean1p0.py:1438</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a66b8d79c1a962b456bdd61ae859e8ad6"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a66b8d79c1a962b456bdd61ae859e8ad6">psyclone.gocean1p0.GOStencil._stencil</a></div><div class="ttdeci">_stencil</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01437">gocean1p0.py:1437</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad0de8de6ede45dbd31f9f59328828812"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOStencil.depth </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Provides the depth of the stencil in the 8 possible stencil
directions in a 2d regular grid (see the description in the
load class for more information). Values must be between -1
and 1 as they are considered to be relative to the centre of
the stencil For example:

stencil(234,
915,
876)

returns

depth(-1,0) = 9
depth(1,1) = 4

:param int index0: the relative stencil offset for the first
index of the associated array. This value must be between -1
and 1
:param int index1: the relative stencil offset for the second
index of the associated array. This value must be between -1
and 1
:return int: the depth of the stencil in the specified direction
:raises GenerationError: if the indices are out-of-bounds</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l01619">1619</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="gocean1p0_8py_source.html#l01581">psyclone.gocean1p0.GOStencil._check_init()</a>, <a class="el" href="gocean1p0_8py_source.html#l01437">psyclone.gocean1p0.GOStencil._stencil</a>, and <a class="el" href="dynamo0p3_8py_source.html#l07355">psyclone.dynamo0p3.DynKernelArgument._stencil</a>.</p>
<div class="fragment"><div class="line"><a name="l01619"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#ad0de8de6ede45dbd31f9f59328828812"> 1619</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#ad0de8de6ede45dbd31f9f59328828812">depth</a>(self, index0, index1):</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Provides the depth of the stencil in the 8 possible stencil</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="stringliteral">        directions in a 2d regular grid (see the description in the</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="stringliteral">        load class for more information). Values must be between -1</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;<span class="stringliteral">        and 1 as they are considered to be relative to the centre of</span></div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;<span class="stringliteral">        the stencil For example:</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="stringliteral">        stencil(234,</span></div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="stringliteral">                915,</span></div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="stringliteral">                876)</span></div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="stringliteral">        returns</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="stringliteral">        depth(-1,0) = 9</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="stringliteral">        depth(1,1) = 4</span></div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="stringliteral">        :param int index0: the relative stencil offset for the first</span></div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="stringliteral">        index of the associated array. This value must be between -1</span></div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="stringliteral">        and 1</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="stringliteral">        :param int index1: the relative stencil offset for the second</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="stringliteral">        index of the associated array. This value must be between -1</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="stringliteral">        and 1</span></div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;<span class="stringliteral">        :return int: the depth of the stencil in the specified direction</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;<span class="stringliteral">        :raises GenerationError: if the indices are out-of-bounds</span></div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733">_check_init</a>()</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        <span class="keywordflow">if</span> index0 &lt; -1 <span class="keywordflow">or</span> index0 &gt; 1 <span class="keywordflow">or</span> index1 &lt; -1 <span class="keywordflow">or</span> index1 &gt; 1:</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;            <span class="keywordflow">raise</span> GenerationError(</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                <span class="stringliteral">&quot;The indices arguments to the depth method in the GOStencil &quot;</span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                <span class="stringliteral">&quot;object must be between -1 and 1 but found &quot;</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                <span class="stringliteral">&quot;({0},{1})&quot;</span>.format(index0, index1))</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a66b8d79c1a962b456bdd61ae859e8ad6">_stencil</a>[index0+1][index1+1]</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a5811b0a9523e45040bd56ec00a452733"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733">psyclone.gocean1p0.GOStencil._check_init</a></div><div class="ttdeci">def _check_init(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01581">gocean1p0.py:1581</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a66b8d79c1a962b456bdd61ae859e8ad6"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a66b8d79c1a962b456bdd61ae859e8ad6">psyclone.gocean1p0.GOStencil._stencil</a></div><div class="ttdeci">_stencil</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01437">gocean1p0.py:1437</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_ad0de8de6ede45dbd31f9f59328828812"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#ad0de8de6ede45dbd31f9f59328828812">psyclone.gocean1p0.GOStencil.depth</a></div><div class="ttdeci">def depth(self, index0, index1)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01619">gocean1p0.py:1619</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOStencil_ad0de8de6ede45dbd31f9f59328828812_cgraph.png" border="0" usemap="#classpsyclone_1_1gocean1p0_1_1GOStencil_ad0de8de6ede45dbd31f9f59328828812_cgraph" alt=""/></div>
<map name="classpsyclone_1_1gocean1p0_1_1GOStencil_ad0de8de6ede45dbd31f9f59328828812_cgraph" id="classpsyclone_1_1gocean1p0_1_1GOStencil_ad0de8de6ede45dbd31f9f59328828812_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733" title="psyclone.gocean1p0.GOStencil.\l_check_init" alt="" coords="295,5,504,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a541628e7e1c9d98204ca9d8098bef38b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOStencil.has_stencil </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Specifies whether this argument has stencil information or not. The
only case when this is False is when the stencil information
specifies 'pointwise' as this indicates that there is no
stencil access.

:return Bool: True if this argument has stencil information
and False if not.</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l01595">1595</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="gocean1p0_8py_source.html#l01581">psyclone.gocean1p0.GOStencil._check_init()</a>, and <a class="el" href="gocean1p0_8py_source.html#l01436">psyclone.gocean1p0.GOStencil._has_stencil</a>.</p>
<div class="fragment"><div class="line"><a name="l01595"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a541628e7e1c9d98204ca9d8098bef38b"> 1595</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a541628e7e1c9d98204ca9d8098bef38b">has_stencil</a>(self):</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Specifies whether this argument has stencil information or not. The</span></div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="stringliteral">        only case when this is False is when the stencil information</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="stringliteral">        specifies &#39;pointwise&#39; as this indicates that there is no</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="stringliteral">        stencil access.</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="stringliteral">        :return Bool: True if this argument has stencil information</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="stringliteral">        and False if not.</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733">_check_init</a>()</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a72ae619f32b9ee96b0e11ee7548c4b41">_has_stencil</a></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a5811b0a9523e45040bd56ec00a452733"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733">psyclone.gocean1p0.GOStencil._check_init</a></div><div class="ttdeci">def _check_init(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01581">gocean1p0.py:1581</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a72ae619f32b9ee96b0e11ee7548c4b41"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a72ae619f32b9ee96b0e11ee7548c4b41">psyclone.gocean1p0.GOStencil._has_stencil</a></div><div class="ttdeci">_has_stencil</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01436">gocean1p0.py:1436</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a541628e7e1c9d98204ca9d8098bef38b"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a541628e7e1c9d98204ca9d8098bef38b">psyclone.gocean1p0.GOStencil.has_stencil</a></div><div class="ttdeci">def has_stencil(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01595">gocean1p0.py:1595</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOStencil_a541628e7e1c9d98204ca9d8098bef38b_cgraph.png" border="0" usemap="#classpsyclone_1_1gocean1p0_1_1GOStencil_a541628e7e1c9d98204ca9d8098bef38b_cgraph" alt=""/></div>
<map name="classpsyclone_1_1gocean1p0_1_1GOStencil_a541628e7e1c9d98204ca9d8098bef38b_cgraph" id="classpsyclone_1_1gocean1p0_1_1GOStencil_a541628e7e1c9d98204ca9d8098bef38b_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733" title="psyclone.gocean1p0.GOStencil.\l_check_init" alt="" coords="284,5,493,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af24f639f1059d531b7b35a7c080043b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOStencil.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stencil_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Take parsed stencil metadata information, check it is valid and
store it in a convenient form. The kernel_name argument is
only used to provide the location if there is an error.

The stencil information should either be a name which
indicates a particular type of stencil or in the form
stencil(xxx,yyy,zzz) which explicitly specifies a stencil
shape where xxx, yyy and zzz are triplets of integers
indicating whether there is a stencil access in a particular
direction and the depth of that access. For example:

go_stencil(010,  !   N
   212,  !  W E
   010)  !   S

indicates that there is a stencil access of depth 1 in the
"North" and "South" directions and stencil access of depth 2
in the "East" and "West" directions. The value at the centre
of the stencil will not be used by PSyclone but can be 0 or 1
and indicates whether the local field value is accessed.

The convention is for the associated arrays to be
2-dimensional. If we denote the first dimension as "i" and the
second dimension as "j" then the following directions are
assumed:

j
^
|
|
----&gt;i

For example a stencil access like:

a(i,j) + a(i+1,j) + a(i,j-1)

would be stored as:

go_stencil(000,
   011,
   010)

:param stencil_info: contains the appropriate part of the parser AST
:type stencil_info: :py:class:`psyclone.expression.FunctionVar`
:param string kernel_name: the name of the kernel from where
this stencil information came from.
:raises ParseError: if the supplied stencil information is invalid</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l01442">1442</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="gocean1p0_8py_source.html#l01436">psyclone.gocean1p0.GOStencil._has_stencil</a>, <a class="el" href="gocean1p0_8py_source.html#l01439">psyclone.gocean1p0.GOStencil._initialised</a>, <a class="el" href="expression_8py_source.html#l00205">psyclone.expression.NamedArg._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l00491">psyclone.dynamo0p3.DynFuncDescriptor03._name</a>, <a class="el" href="gocean1p0_8py_source.html#l00880">psyclone.gocean1p0.GOKern._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01374">psyclone.gocean1p0.GOKernelGridArgument._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01438">psyclone.gocean1p0.GOStencil._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l07039">psyclone.dynamo0p3.DynStencil._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01437">psyclone.gocean1p0.GOStencil._stencil</a>, and <a class="el" href="dynamo0p3_8py_source.html#l07355">psyclone.dynamo0p3.DynKernelArgument._stencil</a>.</p>
<div class="fragment"><div class="line"><a name="l01442"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#af24f639f1059d531b7b35a7c080043b2"> 1442</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#af24f639f1059d531b7b35a7c080043b2">load</a>(self, stencil_info, kernel_name):</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Take parsed stencil metadata information, check it is valid and</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="stringliteral">        store it in a convenient form. The kernel_name argument is</span></div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="stringliteral">        only used to provide the location if there is an error.</span></div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="stringliteral">        The stencil information should either be a name which</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="stringliteral">        indicates a particular type of stencil or in the form</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="stringliteral">        stencil(xxx,yyy,zzz) which explicitly specifies a stencil</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="stringliteral">        shape where xxx, yyy and zzz are triplets of integers</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="stringliteral">        indicating whether there is a stencil access in a particular</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="stringliteral">        direction and the depth of that access. For example:</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="stringliteral">        go_stencil(010,  !   N</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="stringliteral">                   212,  !  W E</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="stringliteral">                   010)  !   S</span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="stringliteral">        indicates that there is a stencil access of depth 1 in the</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="stringliteral">        &quot;North&quot; and &quot;South&quot; directions and stencil access of depth 2</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="stringliteral">        in the &quot;East&quot; and &quot;West&quot; directions. The value at the centre</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="stringliteral">        of the stencil will not be used by PSyclone but can be 0 or 1</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="stringliteral">        and indicates whether the local field value is accessed.</span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="stringliteral">        The convention is for the associated arrays to be</span></div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="stringliteral">        2-dimensional. If we denote the first dimension as &quot;i&quot; and the</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="stringliteral">        second dimension as &quot;j&quot; then the following directions are</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="stringliteral">        assumed:</span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="stringliteral">        j</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;<span class="stringliteral">        ^</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="stringliteral">        |</span></div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="stringliteral">        |</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="stringliteral">        ----&gt;i</span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="stringliteral">        For example a stencil access like:</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="stringliteral">        a(i,j) + a(i+1,j) + a(i,j-1)</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;<span class="stringliteral">        would be stored as:</span></div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="stringliteral">        go_stencil(000,</span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="stringliteral">                   011,</span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="stringliteral">                   010)</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="stringliteral">        :param stencil_info: contains the appropriate part of the parser AST</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="stringliteral">        :type stencil_info: :py:class:`psyclone.expression.FunctionVar`</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="stringliteral">        :param string kernel_name: the name of the kernel from where</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="stringliteral">        this stencil information came from.</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="stringliteral">        :raises ParseError: if the supplied stencil information is invalid</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5cc6e903d06f1e98c26d893f73b415e5">_initialised</a> = <span class="keyword">True</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(stencil_info, expr.FunctionVar):</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;            <span class="comment"># the stencil information is not in the expected format</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1parse_1_1ParseError.html">ParseError</a>(</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                <span class="stringliteral">&quot;Meta-data error in kernel &#39;{0}&#39;: 3rd descriptor (stencil) of &quot;</span></div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                <span class="stringliteral">&quot;field argument is &#39;{1}&#39; but expected either a name or the &quot;</span></div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                <span class="stringliteral">&quot;format &#39;go_stencil(...)&#39;&quot;</span>.format(kernel_name,</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                                                  str(stencil_info)))</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;        <span class="comment"># Get the name</span></div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;        name = stencil_info.name.lower()</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <span class="keywordflow">if</span> stencil_info.args:</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            <span class="comment"># The stencil info is of the form &#39;name(a,b,...), so the</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            <span class="comment"># name should be &#39;stencil&#39; and there should be 3</span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            <span class="comment"># arguments&#39;</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;            self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a72ae619f32b9ee96b0e11ee7548c4b41">_has_stencil</a> = <span class="keyword">True</span></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;            args = stencil_info.args</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;            <span class="keywordflow">if</span> name != <span class="stringliteral">&quot;go_stencil&quot;</span>:</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1parse_1_1ParseError.html">ParseError</a>(</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                    <span class="stringliteral">&quot;Meta-data error in kernel &#39;{0}&#39;: 3rd descriptor &quot;</span></div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                    <span class="stringliteral">&quot;(stencil) of field argument is &#39;{1}&#39; but must be &quot;</span></div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                    <span class="stringliteral">&quot;&#39;go_stencil(...)&quot;</span>.format(kernel_name, name))</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;            <span class="keywordflow">if</span> len(args) != 3:</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1parse_1_1ParseError.html">ParseError</a>(</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                    <span class="stringliteral">&quot;Meta-data error in kernel &#39;{0}&#39;: 3rd descriptor &quot;</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;                    <span class="stringliteral">&quot;(stencil) of field argument with format &quot;</span></div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                    <span class="stringliteral">&quot;&#39;go_stencil(...)&#39;, has {1} arguments but should have &quot;</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;                    <span class="stringliteral">&quot;3&quot;</span>.format(kernel_name, len(args)))</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            <span class="comment"># Each of the 3 args should be of length 3 and each</span></div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;            <span class="comment"># character should be a digit from 0-9. Whilst we are</span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            <span class="comment"># expecting numbers, the parser represents these numbers</span></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            <span class="comment"># as strings so we have to perform string manipulation to</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            <span class="comment"># check and that extract them</span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            <span class="keywordflow">for</span> arg_idx <span class="keywordflow">in</span> range(3):</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;                arg = args[arg_idx]</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(arg, str):</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1parse_1_1ParseError.html">ParseError</a>(</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;                        <span class="stringliteral">&quot;Meta-data error in kernel &#39;{0}&#39;: 3rd descriptor &quot;</span></div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                        <span class="stringliteral">&quot;(stencil) of field argument with format &quot;</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                        <span class="stringliteral">&quot;&#39;go_stencil(...)&#39;. Argument index {1} should be a &quot;</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;                        <span class="stringliteral">&quot;number but found &quot;</span></div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                        <span class="stringliteral">&quot;&#39;{2}&#39;.&quot;</span>.format(kernel_name, arg_idx, str(arg)))</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                <span class="keywordflow">if</span> len(arg) != 3:</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1parse_1_1ParseError.html">ParseError</a>(</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;                        <span class="stringliteral">&quot;Meta-data error in kernel &#39;{0}&#39;: 3rd descriptor &quot;</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                        <span class="stringliteral">&quot;(stencil) of field argument with format &quot;</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                        <span class="stringliteral">&quot;&#39;go_stencil(...)&#39;. Argument index {1} should &quot;</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                        <span class="stringliteral">&quot;consist of 3 digits but found &quot;</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                        <span class="stringliteral">&quot;{2}.&quot;</span>.format(kernel_name, arg_idx, len(arg)))</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;            <span class="comment"># The central value is constrained to be 0 or 1</span></div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            <span class="keywordflow">if</span> args[1][1] <span class="keywordflow">not</span> <span class="keywordflow">in</span> [<span class="stringliteral">&quot;0&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>]:</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1parse_1_1ParseError.html">ParseError</a>(</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                    <span class="stringliteral">&quot;Meta-data error in kernel &#39;{0}&#39;: 3rd descriptor &quot;</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                    <span class="stringliteral">&quot;(stencil) of field argument with format &quot;</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                    <span class="stringliteral">&quot;&#39;go_stencil(...)&#39;. Argument index 1 position 1 &quot;</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                    <span class="stringliteral">&quot;should be a number from 0-1 &quot;</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                    <span class="stringliteral">&quot;but found {1}.&quot;</span>.format(kernel_name, args[1][1]))</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <span class="comment"># It is not valid to specify a zero stencil. This is</span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            <span class="comment"># indicated by the &#39;pointwise&#39; name</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;            <span class="keywordflow">if</span> args[0] == <span class="stringliteral">&quot;000&quot;</span> <span class="keywordflow">and</span> \</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;               (args[1] == <span class="stringliteral">&quot;000&quot;</span> <span class="keywordflow">or</span> args[1] == <span class="stringliteral">&quot;010&quot;</span>) <span class="keywordflow">and</span> \</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;               args[2] == <span class="stringliteral">&quot;000&quot;</span>:</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1parse_1_1ParseError.html">ParseError</a>(</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                    <span class="stringliteral">&quot;Meta-data error in kernel &#39;{0}&#39;: 3rd descriptor &quot;</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                    <span class="stringliteral">&quot;(stencil) of field argument with format &quot;</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                    <span class="stringliteral">&quot;&#39;go_stencil(...)&#39;. A zero sized stencil has been &quot;</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                    <span class="stringliteral">&quot;specified. This should be specified with the &quot;</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                    <span class="stringliteral">&quot;&#39;go_pointwise&#39; keyword.&quot;</span>.format(kernel_name))</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;            <span class="comment"># store the values in an internal array as integers in i,j</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            <span class="comment"># order</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;            <span class="keywordflow">for</span> idx0 <span class="keywordflow">in</span> range(3):</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                <span class="keywordflow">for</span> idx1 <span class="keywordflow">in</span> range(3):</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                    self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a66b8d79c1a962b456bdd61ae859e8ad6">_stencil</a>[idx0][idx1] = int(args[idx1][idx0])</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            <span class="comment"># stencil info is of the form &#39;name&#39; so should be one of</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            <span class="comment"># our valid names</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> VALID_STENCIL_NAMES:</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1parse_1_1ParseError.html">ParseError</a>(</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                    <span class="stringliteral">&quot;Meta-data error in kernel &#39;{0}&#39;: 3rd descriptor &quot;</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    <span class="stringliteral">&quot;(stencil) of field argument is &#39;{1}&#39; but must be one &quot;</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                    <span class="stringliteral">&quot;of {2} or go_stencil(...)&quot;</span>.format(kernel_name, name,</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                                                       VALID_STENCIL_NAMES))</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#adc9b4a1877f1b0ed81d96d8ef9eacd0a">_name</a> = name</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;            <span class="comment"># We currently only support one valid name (&#39;pointwise&#39;)</span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <span class="comment"># which indicates that there is no stencil</span></div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a72ae619f32b9ee96b0e11ee7548c4b41">_has_stencil</a> = <span class="keyword">False</span></div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a5cc6e903d06f1e98c26d893f73b415e5"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5cc6e903d06f1e98c26d893f73b415e5">psyclone.gocean1p0.GOStencil._initialised</a></div><div class="ttdeci">_initialised</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01439">gocean1p0.py:1439</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a72ae619f32b9ee96b0e11ee7548c4b41"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a72ae619f32b9ee96b0e11ee7548c4b41">psyclone.gocean1p0.GOStencil._has_stencil</a></div><div class="ttdeci">_has_stencil</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01436">gocean1p0.py:1436</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_adc9b4a1877f1b0ed81d96d8ef9eacd0a"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#adc9b4a1877f1b0ed81d96d8ef9eacd0a">psyclone.gocean1p0.GOStencil._name</a></div><div class="ttdeci">_name</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01438">gocean1p0.py:1438</a></div></div>
<div class="ttc" id="classpsyclone_1_1parse_1_1ParseError_html"><div class="ttname"><a href="classpsyclone_1_1parse_1_1ParseError.html">psyclone.parse.ParseError</a></div><div class="ttdef"><b>Definition:</b> <a href="parse_8py_source.html#l00188">parse.py:188</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a66b8d79c1a962b456bdd61ae859e8ad6"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a66b8d79c1a962b456bdd61ae859e8ad6">psyclone.gocean1p0.GOStencil._stencil</a></div><div class="ttdeci">_stencil</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01437">gocean1p0.py:1437</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_af24f639f1059d531b7b35a7c080043b2"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#af24f639f1059d531b7b35a7c080043b2">psyclone.gocean1p0.GOStencil.load</a></div><div class="ttdeci">def load(self, stencil_info, kernel_name)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01442">gocean1p0.py:1442</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a800748aca0ce297d84e04a80e6e6c25e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOStencil.name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Provides the stencil name if one is provided

:return string: the name of the type of stencil if this is
provided and 'None' if not.</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l01609">1609</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="gocean1p0_8py_source.html#l01581">psyclone.gocean1p0.GOStencil._check_init()</a>, <a class="el" href="expression_8py_source.html#l00205">psyclone.expression.NamedArg._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l00491">psyclone.dynamo0p3.DynFuncDescriptor03._name</a>, <a class="el" href="gocean1p0_8py_source.html#l00880">psyclone.gocean1p0.GOKern._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01374">psyclone.gocean1p0.GOKernelGridArgument._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01438">psyclone.gocean1p0.GOStencil._name</a>, and <a class="el" href="dynamo0p3_8py_source.html#l07039">psyclone.dynamo0p3.DynStencil._name</a>.</p>
<div class="fragment"><div class="line"><a name="l01609"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a800748aca0ce297d84e04a80e6e6c25e"> 1609</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a800748aca0ce297d84e04a80e6e6c25e">name</a>(self):</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Provides the stencil name if one is provided</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="stringliteral">        :return string: the name of the type of stencil if this is</span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="stringliteral">        provided and &#39;None&#39; if not.</span></div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733">_check_init</a>()</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#adc9b4a1877f1b0ed81d96d8ef9eacd0a">_name</a></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a5811b0a9523e45040bd56ec00a452733"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733">psyclone.gocean1p0.GOStencil._check_init</a></div><div class="ttdeci">def _check_init(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01581">gocean1p0.py:1581</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_adc9b4a1877f1b0ed81d96d8ef9eacd0a"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#adc9b4a1877f1b0ed81d96d8ef9eacd0a">psyclone.gocean1p0.GOStencil._name</a></div><div class="ttdeci">_name</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01438">gocean1p0.py:1438</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOStencil_html_a800748aca0ce297d84e04a80e6e6c25e"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a800748aca0ce297d84e04a80e6e6c25e">psyclone.gocean1p0.GOStencil.name</a></div><div class="ttdeci">def name(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01609">gocean1p0.py:1609</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOStencil_a800748aca0ce297d84e04a80e6e6c25e_cgraph.png" border="0" usemap="#classpsyclone_1_1gocean1p0_1_1GOStencil_a800748aca0ce297d84e04a80e6e6c25e_cgraph" alt=""/></div>
<map name="classpsyclone_1_1gocean1p0_1_1GOStencil_a800748aca0ce297d84e04a80e6e6c25e_cgraph" id="classpsyclone_1_1gocean1p0_1_1GOStencil_a800748aca0ce297d84e04a80e6e6c25e_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733" title="psyclone.gocean1p0.GOStencil.\l_check_init" alt="" coords="295,5,504,47"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/psyclone/<a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>psyclone</b></li><li class="navelem"><b>gocean1p0</b></li><li class="navelem"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html">GOStencil</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
