<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PSyclone: psyclone.psyGen.Invoke Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="psyclone_v1.0_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSyclone
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classpsyclone_1_1psyGen_1_1Invoke.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpsyclone_1_1psyGen_1_1Invoke-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">psyclone.psyGen.Invoke Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for psyclone.psyGen.Invoke:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1psyGen_1_1Invoke__inherit__graph.png" border="0" usemap="#psyclone_8psyGen_8Invoke_inherit__map" alt="Inheritance graph"/></div>
<map name="psyclone_8psyGen_8Invoke_inherit__map" id="psyclone_8psyGen_8Invoke_inherit__map">
<area shape="rect" id="node3" href="classpsyclone_1_1dynamo0p1_1_1DynInvoke.html" title="psyclone.dynamo0p1.DynInvoke" alt="" coords="325,5,537,32"/>
<area shape="rect" id="node4" href="classpsyclone_1_1dynamo0p3_1_1DynInvoke.html" title="psyclone.dynamo0p3.DynInvoke" alt="" coords="325,56,537,83"/>
<area shape="rect" id="node5" href="classpsyclone_1_1gocean0p1_1_1GOInvoke.html" title="psyclone.gocean0p1.GOInvoke" alt="" coords="329,107,533,133"/>
<area shape="rect" id="node6" href="classpsyclone_1_1gocean1p0_1_1GOInvoke.html" title="psyclone.gocean1p0.GOInvoke" alt="" coords="329,157,533,184"/>
<area shape="rect" id="node7" href="classpsyclone_1_1nemo_1_1NemoInvoke.html" title="psyclone.nemo.NemoInvoke" alt="" coords="337,208,525,235"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for psyclone.psyGen.Invoke:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1psyGen_1_1Invoke__coll__graph.png" border="0" usemap="#psyclone_8psyGen_8Invoke_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1a9626ecd1145f50791fd63bc5cb32ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a9626ecd1145f50791fd63bc5cb32ee"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__str__</b> (self)</td></tr>
<tr class="separator:a1a9626ecd1145f50791fd63bc5cb32ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de5344c28550a67f7f9d0c6b2c9ed3e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1psyGen_1_1Invoke.html#a5de5344c28550a67f7f9d0c6b2c9ed3e">__init__</a> (self, alg_invocation, idx, schedule_class, reserved_names=None)</td></tr>
<tr class="separator:a5de5344c28550a67f7f9d0c6b2c9ed3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6699fa93b458cffc4fa3874e0de2e1b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab6699fa93b458cffc4fa3874e0de2e1b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>name</b> (self)</td></tr>
<tr class="separator:ab6699fa93b458cffc4fa3874e0de2e1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c0291dd36ff5a5fddb230c079a80bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0c0291dd36ff5a5fddb230c079a80bb"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>alg_unique_args</b> (self)</td></tr>
<tr class="separator:ab0c0291dd36ff5a5fddb230c079a80bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec704a73a35f61a2afa53950fc4a66b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ec704a73a35f61a2afa53950fc4a66b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>psy_unique_vars</b> (self)</td></tr>
<tr class="separator:a1ec704a73a35f61a2afa53950fc4a66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e09c41cafa5d17214833dc23aec52cf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e09c41cafa5d17214833dc23aec52cf"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>psy_unique_var_names</b> (self)</td></tr>
<tr class="separator:a7e09c41cafa5d17214833dc23aec52cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff15d0cfff3adb378deeab161de6875"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afff15d0cfff3adb378deeab161de6875"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>schedule</b> (self)</td></tr>
<tr class="separator:afff15d0cfff3adb378deeab161de6875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab112e9aa6c2193992b5fa76021001da2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab112e9aa6c2193992b5fa76021001da2"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>schedule</b> (self, obj)</td></tr>
<tr class="separator:ab112e9aa6c2193992b5fa76021001da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78c95a6c82d422cb2a6def5c936076c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">unique_declarations</a> (self, datatype, access=None)</td></tr>
<tr class="separator:aa78c95a6c82d422cb2a6def5c936076c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfab1a86fcdebaae406efa3c96696713"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1psyGen_1_1Invoke.html#abfab1a86fcdebaae406efa3c96696713">first_access</a> (self, arg_name)</td></tr>
<tr class="separator:abfab1a86fcdebaae406efa3c96696713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a4142f2b3d5beac3fbc6ee49a18811"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1psyGen_1_1Invoke.html#a21a4142f2b3d5beac3fbc6ee49a18811">unique_declns_by_intent</a> (self, datatype)</td></tr>
<tr class="separator:a21a4142f2b3d5beac3fbc6ee49a18811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655ebaaa2397d6316ab225391186d501"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a655ebaaa2397d6316ab225391186d501"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>gen</b> (self)</td></tr>
<tr class="separator:a655ebaaa2397d6316ab225391186d501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c62d595f399e3b170071c4f01929f53"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c62d595f399e3b170071c4f01929f53"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>gen_code</b> (self, parent)</td></tr>
<tr class="separator:a5c62d595f399e3b170071c4f01929f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Manage an individual invoke call </pre> 
<p>Definition at line <a class="el" href="psyGen_8py_source.html#l00551">551</a> of file <a class="el" href="psyGen_8py_source.html">psyGen.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5de5344c28550a67f7f9d0c6b2c9ed3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.psyGen.Invoke.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alg_invocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>schedule_class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reserved_names</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Constructs an invoke object. Parameters:

:param alg_invocation:
:type alg_invocation:
:param idx: Position/index of this invoke call in the subroutine.
    If not None, this number is added to the name ("invoke_").
:type idx: Integer.
:param schedule_class: The schedule class to create for this invoke.
:type schedule_class: Schedule class.
:param reserved_names: Optional argument: list of reserved names,
       i.e. names that should not be used e.g. as psyclone created
       variable name.
:type reserved_names: List of strings.
</pre> 
<p>Definition at line <a class="el" href="psyGen_8py_source.html#l00559">559</a> of file <a class="el" href="psyGen_8py_source.html">psyGen.py</a>.</p>

<p>References <a class="el" href="psyGen_8py_source.html#l00576">psyclone.psyGen.Invoke._alg_unique_args</a>, <a class="el" href="dynamo0p1_8py_source.html#l00296">psyclone.dynamo0p1.DynKernelArguments._dofs</a>, <a class="el" href="gocean0p1_8py_source.html#l00308">psyclone.gocean0p1.GOKernelArguments._dofs</a>, <a class="el" href="psyGen_8py_source.html#l00632">psyclone.psyGen.Invoke._dofs</a>, <a class="el" href="gocean1p0_8py_source.html#l01185">psyclone.gocean1p0.GOKernelArguments._dofs</a>, <a class="el" href="dynamo0p3_8py_source.html#l07138">psyclone.dynamo0p3.DynKernelArguments._dofs</a>, <a class="el" href="nemo_8py_source.html#l00118">psyclone.nemo.NemoInvoke._name</a>, <a class="el" href="expression_8py_source.html#l00205">psyclone.expression.NamedArg._name</a>, <a class="el" href="nemo_8py_source.html#l00222">psyclone.nemo.NemoPSy._name</a>, <a class="el" href="parse_8py_source.html#l00308">psyclone.parse.Element._name</a>, <a class="el" href="psyGen_8py_source.html#l00309">psyclone.psyGen.PSy._name</a>, <a class="el" href="nemo_8py_source.html#l00313">psyclone.nemo.NemoKern._name</a>, <a class="el" href="parse_8py_source.html#l00361">psyclone.parse.KernelProcedure._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l00491">psyclone.dynamo0p3.DynFuncDescriptor03._name</a>, <a class="el" href="psyGen_8py_source.html#l00575">psyclone.psyGen.Invoke._name</a>, <a class="el" href="parse_8py_source.html#l00585">psyclone.parse.KernelType._name</a>, <a class="el" href="gocean1p0_8py_source.html#l00880">psyclone.gocean1p0.GOKern._name</a>, <a class="el" href="parse_8py_source.html#l00913">psyclone.parse.InvokeCall._name</a>, <a class="el" href="parse_8py_source.html#l00932">psyclone.parse.FileInfo._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01374">psyclone.gocean1p0.GOKernelGridArgument._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01438">psyclone.gocean1p0.GOStencil._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l07039">psyclone.dynamo0p3.DynStencil._name</a>, <a class="el" href="nemo_8py_source.html#l00121">psyclone.nemo.NemoInvoke._name_space_manager</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00126">psyclone.dynamo0p3_builtins.DynBuiltIn._name_space_manager</a>, <a class="el" href="psyGen_8py_source.html#l00597">psyclone.psyGen.Invoke._name_space_manager</a>, <a class="el" href="gocean1p0_8py_source.html#l00883">psyclone.gocean1p0.GOKern._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01379">psyclone.dynamo0p3.DynamoInvokes._name_space_manager</a>, <a class="el" href="gocean1p0_8py_source.html#l01384">psyclone.gocean1p0.GOKernelGridArgument._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01448">psyclone.dynamo0p3.DynInvokeStencil._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01632">psyclone.dynamo0p3.DynInvokeDofmaps._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01803">psyclone.dynamo0p3.DynInvokeCMAOperators._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01920">psyclone.dynamo0p3.DynMeshes._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l02249">psyclone.dynamo0p3.DynInterGrid._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l02298">psyclone.dynamo0p3.DynInvokeBasisFns._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l03083">psyclone.dynamo0p3.DynInvoke._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l04487">psyclone.dynamo0p3.DynLoop._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l05168">psyclone.dynamo0p3.DynKern._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l05999">psyclone.dynamo0p3.KernCallArgList._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l06331">psyclone.dynamo0p3.KernStubArgList._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l07082">psyclone.dynamo0p3.DynKernelArguments._name_space_manager</a>, <a class="el" href="psyGen_8py_source.html#l00617">psyclone.psyGen.Invoke._psy_unique_vars</a>, <a class="el" href="dynamo0p1_8py_source.html#l00096">psyclone.dynamo0p1.DynInvoke._schedule</a>, <a class="el" href="gocean0p1_8py_source.html#l00108">psyclone.gocean0p1.GOInvoke._schedule</a>, <a class="el" href="nemo_8py_source.html#l00117">psyclone.nemo.NemoInvoke._schedule</a>, <a class="el" href="gocean1p0_8py_source.html#l00204">psyclone.gocean1p0.GOInvoke._schedule</a>, <a class="el" href="psyGen_8py_source.html#l00609">psyclone.psyGen.Invoke._schedule</a>, <a class="el" href="dynamo0p3_8py_source.html#l01931">psyclone.dynamo0p3.DynMeshes._schedule</a>, and <a class="el" href="dynamo0p3_8py_source.html#l02909">psyclone.dynamo0p3.DynInvoke._schedule</a>.</p>
<div class="fragment"><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="classpsyclone_1_1psyGen_1_1Invoke.html#a5de5344c28550a67f7f9d0c6b2c9ed3e">  559</a></span>&#160;                 reserved_names=<span class="keywordtype">None</span>):</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Constructs an invoke object. Parameters:</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="stringliteral">        :param alg_invocation:</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="stringliteral">        :type alg_invocation:</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="stringliteral">        :param idx: Position/index of this invoke call in the subroutine.</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="stringliteral">            If not None, this number is added to the name (&quot;invoke_&quot;).</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="stringliteral">        :type idx: Integer.</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="stringliteral">        :param schedule_class: The schedule class to create for this invoke.</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="stringliteral">        :type schedule_class: Schedule class.</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="stringliteral">        :param reserved_names: Optional argument: list of reserved names,</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="stringliteral">               i.e. names that should not be used e.g. as psyclone created</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="stringliteral">               variable name.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="stringliteral">        :type reserved_names: List of strings.</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a9d1133b05ae292fa39448bdc9af33567">_name</a> = <span class="stringliteral">&quot;invoke&quot;</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a288d20235117066bce84e1afa3c1fed8">_alg_unique_args</a> = []</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">if</span> alg_invocation <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> idx <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="comment"># create a name for the call if one does not already exist</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">if</span> alg_invocation.name <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a9d1133b05ae292fa39448bdc9af33567">_name</a> = alg_invocation.name</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keywordflow">elif</span> len(alg_invocation.kcalls) == 1 <span class="keywordflow">and</span> \</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                alg_invocation.kcalls[0].type == <span class="stringliteral">&quot;kernelCall&quot;</span>:</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            <span class="comment"># use the name of the kernel call with the position appended.</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="comment"># Appended position is needed in case we have two separate invokes</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="comment"># in the same algorithm code containing the same (single) kernel</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a9d1133b05ae292fa39448bdc9af33567">_name</a> = <span class="stringliteral">&quot;invoke_&quot;</span> + str(idx) + <span class="stringliteral">&quot;_&quot;</span> + \</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                alg_invocation.kcalls[0].ktype.name</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="comment"># use the position of the invoke</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a9d1133b05ae292fa39448bdc9af33567">_name</a> = <span class="stringliteral">&quot;invoke_&quot;</span>+str(idx)</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="comment"># create our namespace manager - must be done before creating the</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="comment"># schedule</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#aed52c633c6672b540705b9c889683092">_name_space_manager</a> = <a class="code" href="classpsyclone_1_1psyGen_1_1NameSpaceFactory.html">NameSpaceFactory</a>(reset=<span class="keyword">True</span>).create()</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment"># Add the name for the call to the list of reserved names. This</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="comment"># ensures we don&#39;t get a name clash with any variables we subsequently</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="comment"># generate.</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordflow">if</span> reserved_names:</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            reserved_names.append(self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a9d1133b05ae292fa39448bdc9af33567">_name</a>)</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            reserved_names = [self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a9d1133b05ae292fa39448bdc9af33567">_name</a>]</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        self._name_space_manager.add_reserved_names(reserved_names)</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="comment"># create the schedule</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#ae7c4c4abdbe91be1f8b4fd62c9cad6ba">_schedule</a> = schedule_class(alg_invocation.kcalls)</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="comment"># let the schedule have access to me</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        self._schedule.invoke = self</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="comment"># extract the argument list for the algorithm call and psy</span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="comment"># layer subroutine.</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a288d20235117066bce84e1afa3c1fed8">_alg_unique_args</a> = []</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a184a42fbb2d48d19076262cba703148a">_psy_unique_vars</a> = []</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        tmp_arg_names = []</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">for</span> call <span class="keywordflow">in</span> self.schedule.calls():</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> call.arguments.args:</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="keywordflow">if</span> arg.text <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    <span class="keywordflow">if</span> arg.text <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a288d20235117066bce84e1afa3c1fed8">_alg_unique_args</a>:</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                        self._alg_unique_args.append(arg.text)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                    <span class="keywordflow">if</span> arg.name <span class="keywordflow">not</span> <span class="keywordflow">in</span> tmp_arg_names:</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                        tmp_arg_names.append(arg.name)</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                        self._psy_unique_vars.append(arg)</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    <span class="comment"># literals have no name</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                    <span class="keywordflow">pass</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="comment"># work out the unique dofs required in this subroutine</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a01773222c15e9bcb33de54ae67dcceef">_dofs</a> = {}</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">for</span> kern_call <span class="keywordflow">in</span> self._schedule.kern_calls():</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            dofs = kern_call.arguments.dofs</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">for</span> dof <span class="keywordflow">in</span> dofs:</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">if</span> dof <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a01773222c15e9bcb33de54ae67dcceef">_dofs</a>:</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                    <span class="comment"># Only keep the first occurence for the moment. We will</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                    <span class="comment"># need to change this logic at some point as we need to</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                    <span class="comment"># cope with writes determining the dofs that are used.</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a01773222c15e9bcb33de54ae67dcceef">_dofs</a>[dof] = [kern_call, dofs[dof][0]]</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_a184a42fbb2d48d19076262cba703148a"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#a184a42fbb2d48d19076262cba703148a">psyclone.psyGen.Invoke._psy_unique_vars</a></div><div class="ttdeci">_psy_unique_vars</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00617">psyGen.py:617</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_a9d1133b05ae292fa39448bdc9af33567"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#a9d1133b05ae292fa39448bdc9af33567">psyclone.psyGen.Invoke._name</a></div><div class="ttdeci">_name</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00575">psyGen.py:575</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1NameSpaceFactory_html"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1NameSpaceFactory.html">psyclone.psyGen.NameSpaceFactory</a></div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00449">psyGen.py:449</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_a01773222c15e9bcb33de54ae67dcceef"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#a01773222c15e9bcb33de54ae67dcceef">psyclone.psyGen.Invoke._dofs</a></div><div class="ttdeci">_dofs</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00632">psyGen.py:632</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_a288d20235117066bce84e1afa3c1fed8"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#a288d20235117066bce84e1afa3c1fed8">psyclone.psyGen.Invoke._alg_unique_args</a></div><div class="ttdeci">_alg_unique_args</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00576">psyGen.py:576</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_ae7c4c4abdbe91be1f8b4fd62c9cad6ba"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#ae7c4c4abdbe91be1f8b4fd62c9cad6ba">psyclone.psyGen.Invoke._schedule</a></div><div class="ttdeci">_schedule</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00609">psyGen.py:609</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_aed52c633c6672b540705b9c889683092"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#aed52c633c6672b540705b9c889683092">psyclone.psyGen.Invoke._name_space_manager</a></div><div class="ttdeci">_name_space_manager</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00597">psyGen.py:597</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abfab1a86fcdebaae406efa3c96696713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.psyGen.Invoke.first_access </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arg_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the first argument with the specified name passed to
a kernel in our schedule </pre> 
<p>Definition at line <a class="el" href="psyGen_8py_source.html#l00694">694</a> of file <a class="el" href="psyGen_8py_source.html">psyGen.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="classpsyclone_1_1psyGen_1_1Invoke.html#abfab1a86fcdebaae406efa3c96696713">  694</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#abfab1a86fcdebaae406efa3c96696713">first_access</a>(self, arg_name):</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Returns the first argument with the specified name passed to</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="stringliteral">        a kernel in our schedule &#39;&#39;&#39;</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">for</span> call <span class="keywordflow">in</span> self.schedule.calls():</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> call.arguments.args:</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                <span class="keywordflow">if</span> arg.text <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                    <span class="keywordflow">if</span> arg.declaration_name == arg_name:</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                        <span class="keywordflow">return</span> arg</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1psyGen_1_1GenerationError.html">GenerationError</a>(<span class="stringliteral">&quot;Failed to find any kernel argument with name &quot;</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                              <span class="stringliteral">&quot;&#39;{0}&#39;&quot;</span>.format(arg_name))</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="ttc" id="classpsyclone_1_1psyGen_1_1GenerationError_html"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1GenerationError.html">psyclone.psyGen.GenerationError</a></div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00193">psyGen.py:193</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_abfab1a86fcdebaae406efa3c96696713"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#abfab1a86fcdebaae406efa3c96696713">psyclone.psyGen.Invoke.first_access</a></div><div class="ttdeci">def first_access(self, arg_name)</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00694">psyGen.py:694</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa78c95a6c82d422cb2a6def5c936076c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.psyGen.Invoke.unique_declarations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datatype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>access</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a list of all required declarations for the
specified datatype. If access is supplied (e.g. "gh_write") then
only declarations with that access are returned. </pre> 
<p>Definition at line <a class="el" href="psyGen_8py_source.html#l00669">669</a> of file <a class="el" href="psyGen_8py_source.html">psyGen.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00669"></a><span class="lineno"><a class="line" href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">  669</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">unique_declarations</a>(self, datatype, access=None):</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Returns a list of all required declarations for the</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="stringliteral">        specified datatype. If access is supplied (e.g. &quot;gh_write&quot;) then</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="stringliteral">        only declarations with that access are returned. &#39;&#39;&#39;</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">if</span> datatype <span class="keywordflow">not</span> <span class="keywordflow">in</span> VALID_ARG_TYPE_NAMES:</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1psyGen_1_1GenerationError.html">GenerationError</a>(</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="stringliteral">&quot;unique_declarations called with an invalid datatype. &quot;</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                <span class="stringliteral">&quot;Expected one of &#39;{0}&#39; but found &#39;{1}&#39;&quot;</span>.</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                format(str(VALID_ARG_TYPE_NAMES), datatype))</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">if</span> access <span class="keywordflow">and</span> access <span class="keywordflow">not</span> <span class="keywordflow">in</span> VALID_ACCESS_DESCRIPTOR_NAMES:</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1psyGen_1_1GenerationError.html">GenerationError</a>(</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                <span class="stringliteral">&quot;unique_declarations called with an invalid access type. &quot;</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <span class="stringliteral">&quot;Expected one of &#39;{0}&#39; but got &#39;{1}&#39;&quot;</span>.</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                format(VALID_ACCESS_DESCRIPTOR_NAMES, access))</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        declarations = []</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">for</span> call <span class="keywordflow">in</span> self.schedule.calls():</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> call.arguments.args:</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="keywordflow">if</span> <span class="keywordflow">not</span> access <span class="keywordflow">or</span> arg.access == access:</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                    <span class="keywordflow">if</span> arg.text <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                        <span class="keywordflow">if</span> arg.type == datatype:</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                            test_name = arg.declaration_name</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                            <span class="keywordflow">if</span> test_name <span class="keywordflow">not</span> <span class="keywordflow">in</span> declarations:</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                                declarations.append(test_name)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">return</span> declarations</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_aa78c95a6c82d422cb2a6def5c936076c"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">psyclone.psyGen.Invoke.unique_declarations</a></div><div class="ttdeci">def unique_declarations(self, datatype, access=None)</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00669">psyGen.py:669</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1GenerationError_html"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1GenerationError.html">psyclone.psyGen.GenerationError</a></div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00193">psyGen.py:193</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a21a4142f2b3d5beac3fbc6ee49a18811"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.psyGen.Invoke.unique_declns_by_intent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datatype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a dictionary listing all required declarations for each
type of intent ('inout', 'out' and 'in').

:param string datatype: the type of the kernel argument for the
                particular API for which the intent is
                required
:return: dictionary containing 'intent' keys holding the kernel
 argument intent and declarations of all kernel arguments
 for each type of intent
:rtype: dict
:raises GenerationError: if the kernel argument is not a valid
                 datatype for the particular API.</pre> 
<p>Definition at line <a class="el" href="psyGen_8py_source.html#l00705">705</a> of file <a class="el" href="psyGen_8py_source.html">psyGen.py</a>.</p>

<p>References <a class="el" href="dynamo0p1_8py_source.html#l00296">psyclone.dynamo0p1.DynKernelArguments._dofs</a>, <a class="el" href="gocean0p1_8py_source.html#l00308">psyclone.gocean0p1.GOKernelArguments._dofs</a>, <a class="el" href="psyGen_8py_source.html#l00632">psyclone.psyGen.Invoke._dofs</a>, <a class="el" href="gocean1p0_8py_source.html#l01185">psyclone.gocean1p0.GOKernelArguments._dofs</a>, <a class="el" href="dynamo0p3_8py_source.html#l07138">psyclone.dynamo0p3.DynKernelArguments._dofs</a>, <a class="el" href="psyGen_8py_source.html#l00694">psyclone.psyGen.Invoke.first_access()</a>, <a class="el" href="dynamo0p1_8py_source.html#l00099">psyclone.dynamo0p1.DynInvoke.gen_code()</a>, <a class="el" href="gocean0p1_8py_source.html#l00140">psyclone.gocean0p1.GOInvoke.gen_code()</a>, <a class="el" href="dynamo0p1_8py_source.html#l00151">psyclone.dynamo0p1.DynLoop.gen_code()</a>, <a class="el" href="gocean0p1_8py_source.html#l00194">psyclone.gocean0p1.GOLoop.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00195">psyclone.dynamo0p3_builtins.DynBuiltIn.gen_code()</a>, <a class="el" href="profiler_8py_source.html#l00196">psyclone.profiler.ProfileNode.gen_code()</a>, <a class="el" href="dynamo0p1_8py_source.html#l00210">psyclone.dynamo0p1.DynKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00224">psyclone.dynamo0p3_builtins.DynXPlusYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00248">psyclone.dynamo0p3_builtins.DynIncXPlusYKern.gen_code()</a>, <a class="el" href="gocean1p0_8py_source.html#l00252">psyclone.gocean1p0.GOInvoke.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00272">psyclone.dynamo0p3_builtins.DynAXPlusYKern.gen_code()</a>, <a class="el" href="gocean0p1_8py_source.html#l00279">psyclone.gocean0p1.GOKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00299">psyclone.dynamo0p3_builtins.DynIncAXPlusYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00326">psyclone.dynamo0p3_builtins.DynIncXPlusBYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00352">psyclone.dynamo0p3_builtins.DynAXPlusBYKern.gen_code()</a>, <a class="el" href="psyGen_8py_source.html#l00371">psyclone.psyGen.Invokes.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00383">psyclone.dynamo0p3_builtins.DynIncAXPlusBYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00417">psyclone.dynamo0p3_builtins.DynXMinusYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00442">psyclone.dynamo0p3_builtins.DynIncXMinusYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00466">psyclone.dynamo0p3_builtins.DynAXMinusYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00494">psyclone.dynamo0p3_builtins.DynXMinusBYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00522">psyclone.dynamo0p3_builtins.DynIncXMinusBYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00553">psyclone.dynamo0p3_builtins.DynXTimesYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00578">psyclone.dynamo0p3_builtins.DynIncXTimesYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00601">psyclone.dynamo0p3_builtins.DynIncAXTimesYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00632">psyclone.dynamo0p3_builtins.DynATimesXKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00656">psyclone.dynamo0p3_builtins.DynIncATimesXKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00685">psyclone.dynamo0p3_builtins.DynXDividebyYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00709">psyclone.dynamo0p3_builtins.DynIncXDividebyYKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00737">psyclone.dynamo0p3_builtins.DynIncXPowrealAKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00760">psyclone.dynamo0p3_builtins.DynIncXPowintNKern.gen_code()</a>, <a class="el" href="nemo_8py_source.html#l00776">psyclone.nemo.NemoIfBlock.gen_code()</a>, <a class="el" href="gocean1p0_8py_source.html#l00779">psyclone.gocean1p0.GOLoop.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00788">psyclone.dynamo0p3_builtins.DynSetvalCKern.gen_code()</a>, <a class="el" href="psyGen_8py_source.html#l00805">psyclone.psyGen.Invoke.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00810">psyclone.dynamo0p3_builtins.DynSetvalXKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00838">psyclone.dynamo0p3_builtins.DynXInnerproductYKern.gen_code()</a>, <a class="el" href="nemo_8py_source.html#l00842">psyclone.nemo.NemoIfClause.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00863">psyclone.dynamo0p3_builtins.DynXInnerproductXKern.gen_code()</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00891">psyclone.dynamo0p3_builtins.DynSumXKern.gen_code()</a>, <a class="el" href="gocean1p0_8py_source.html#l00901">psyclone.gocean1p0.GOKern.gen_code()</a>, <a class="el" href="dynamo0p3_8py_source.html#l03066">psyclone.dynamo0p3.DynInvoke.gen_code()</a>, <a class="el" href="dynamo0p3_8py_source.html#l03427">psyclone.dynamo0p3.DynGlobalSum.gen_code()</a>, <a class="el" href="dynamo0p3_8py_source.html#l03856">psyclone.dynamo0p3.DynHaloExchange.gen_code()</a>, <a class="el" href="dynamo0p3_8py_source.html#l05009">psyclone.dynamo0p3.DynLoop.gen_code()</a>, <a class="el" href="dynamo0p3_8py_source.html#l05532">psyclone.dynamo0p3.DynKern.gen_code()</a>, <a class="el" href="expression_8py_source.html#l00139">psyclone.expression.FunctionVar.name</a>, <a class="el" href="expression_8py_source.html#l00247">psyclone.expression.NamedArg.name()</a>, <a class="el" href="psyGen_8py_source.html#l00320">psyclone.psyGen.PSy.name()</a>, <a class="el" href="parse_8py_source.html#l00448">psyclone.parse.KernelProcedure.name()</a>, <a class="el" href="parse_8py_source.html#l00628">psyclone.parse.KernelType.name()</a>, <a class="el" href="psyGen_8py_source.html#l00643">psyclone.psyGen.Invoke.name()</a>, <a class="el" href="parse_8py_source.html#l00920">psyclone.parse.InvokeCall.name()</a>, <a class="el" href="parse_8py_source.html#l00936">psyclone.parse.FileInfo.name()</a>, <a class="el" href="dynamo0p3_8py_source.html#l01337">psyclone.dynamo0p3.DynamoPSy.name()</a>, <a class="el" href="gocean1p0_8py_source.html#l01387">psyclone.gocean1p0.GOKernelGridArgument.name()</a>, <a class="el" href="gocean1p0_8py_source.html#l01609">psyclone.gocean1p0.GOStencil.name()</a>, <a class="el" href="psyGen_8py_source.html#l03570">psyclone.psyGen.Kern.name</a>, <a class="el" href="psyGen_8py_source.html#l00651">psyclone.psyGen.Invoke.psy_unique_vars()</a>, and <a class="el" href="psyGen_8py_source.html#l00669">psyclone.psyGen.Invoke.unique_declarations()</a>.</p>
<div class="fragment"><div class="line"><a name="l00705"></a><span class="lineno"><a class="line" href="classpsyclone_1_1psyGen_1_1Invoke.html#a21a4142f2b3d5beac3fbc6ee49a18811">  705</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#a21a4142f2b3d5beac3fbc6ee49a18811">unique_declns_by_intent</a>(self, datatype):</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="stringliteral">        Returns a dictionary listing all required declarations for each</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="stringliteral">        type of intent (&#39;inout&#39;, &#39;out&#39; and &#39;in&#39;).</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="stringliteral">        :param string datatype: the type of the kernel argument for the</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="stringliteral">                                particular API for which the intent is</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="stringliteral">                                required</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="stringliteral">        :return: dictionary containing &#39;intent&#39; keys holding the kernel</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="stringliteral">                 argument intent and declarations of all kernel arguments</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="stringliteral">                 for each type of intent</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="stringliteral">        :rtype: dict</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="stringliteral">        :raises GenerationError: if the kernel argument is not a valid</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="stringliteral">                                 datatype for the particular API.</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">if</span> datatype <span class="keywordflow">not</span> <span class="keywordflow">in</span> VALID_ARG_TYPE_NAMES:</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classpsyclone_1_1psyGen_1_1GenerationError.html">GenerationError</a>(</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                <span class="stringliteral">&quot;unique_declns_by_intent called with an invalid datatype. &quot;</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                <span class="stringliteral">&quot;Expected one of &#39;{0}&#39; but found &#39;{1}&#39;&quot;</span>.</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                format(str(VALID_ARG_TYPE_NAMES), datatype))</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="comment"># Get the lists of all kernel arguments that are accessed as</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="comment"># inc (shared update), write, read and readwrite (independent</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="comment"># update). A single argument may be accessed in different ways</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="comment"># by different kernels.</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        inc_args = self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">unique_declarations</a>(datatype,</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                                            access=MAPPING_ACCESSES[<span class="stringliteral">&quot;inc&quot;</span>])</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        write_args = self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">unique_declarations</a>(datatype,</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                                              access=MAPPING_ACCESSES[<span class="stringliteral">&quot;write&quot;</span>])</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        read_args = self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">unique_declarations</a>(datatype,</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                             access=MAPPING_ACCESSES[<span class="stringliteral">&quot;read&quot;</span>])</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        readwrite_args = self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">unique_declarations</a>(</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            datatype, access=MAPPING_ACCESSES[<span class="stringliteral">&quot;readwrite&quot;</span>])</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        sum_args = self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">unique_declarations</a>(datatype,</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                                            access=MAPPING_REDUCTIONS[<span class="stringliteral">&quot;sum&quot;</span>])</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="comment"># sum_args behave as if they are write_args from</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="comment"># the PSy-layer&#39;s perspective.</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        write_args += sum_args</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="comment"># readwrite_args behave in the same way as inc_args</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="comment"># from the perspective of first access and intents</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        inc_args += readwrite_args</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="comment"># Rationalise our lists so that any fields that are updated</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="comment"># (have inc or readwrite access) do not appear in the list</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="comment"># of those that are only written to</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> write_args[:]:</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keywordflow">if</span> arg <span class="keywordflow">in</span> inc_args:</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                write_args.remove(arg)</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="comment"># Fields that are only ever read by any kernel that</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="comment"># accesses them</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> read_args[:]:</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="keywordflow">if</span> arg <span class="keywordflow">in</span> write_args <span class="keywordflow">or</span> arg <span class="keywordflow">in</span> inc_args:</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                read_args.remove(arg)</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="comment"># We will return a dictionary containing as many lists</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="comment"># as there are types of intent</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        declns = {}</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="keywordflow">for</span> intent <span class="keywordflow">in</span> FORTRAN_INTENT_NAMES:</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            declns[intent] = []</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">for</span> name <span class="keywordflow">in</span> inc_args:</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="comment"># For every arg that is updated (&#39;inc&#39;d&#39; or readwritten)</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            <span class="comment"># by at least one kernel, identify the type of the first</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="comment"># access. If it is &#39;write&#39; then the arg is only</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            <span class="comment"># intent(out), otherwise it is intent(inout)</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            first_arg = self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#abfab1a86fcdebaae406efa3c96696713">first_access</a>(name)</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            <span class="keywordflow">if</span> first_arg.access != MAPPING_ACCESSES[<span class="stringliteral">&quot;write&quot;</span>]:</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> declns[<span class="stringliteral">&quot;inout&quot;</span>]:</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    declns[<span class="stringliteral">&quot;inout&quot;</span>].append(name)</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> declns[<span class="stringliteral">&quot;out&quot;</span>]:</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    declns[<span class="stringliteral">&quot;out&quot;</span>].append(name)</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">for</span> name <span class="keywordflow">in</span> write_args:</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="comment"># For every argument that is written to by at least one kernel,</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="comment"># identify the type of the first access - if it is read</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <span class="comment"># or inc&#39;d before it is written then it must have intent(inout).</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="comment"># However, we deal with inc and readwrite args separately so we</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="comment"># do not consider those here.</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            first_arg = self.<a class="code" href="classpsyclone_1_1psyGen_1_1Invoke.html#abfab1a86fcdebaae406efa3c96696713">first_access</a>(name)</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keywordflow">if</span> first_arg.access == MAPPING_ACCESSES[<span class="stringliteral">&quot;read&quot;</span>]:</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> declns[<span class="stringliteral">&quot;inout&quot;</span>]:</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    declns[<span class="stringliteral">&quot;inout&quot;</span>].append(name)</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> declns[<span class="stringliteral">&quot;out&quot;</span>]:</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                    declns[<span class="stringliteral">&quot;out&quot;</span>].append(name)</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="keywordflow">for</span> name <span class="keywordflow">in</span> read_args:</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            <span class="comment"># Anything we have left must be declared as intent(in)</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> declns[<span class="stringliteral">&quot;in&quot;</span>]:</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                declns[<span class="stringliteral">&quot;in&quot;</span>].append(name)</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">return</span> declns</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_aa78c95a6c82d422cb2a6def5c936076c"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#aa78c95a6c82d422cb2a6def5c936076c">psyclone.psyGen.Invoke.unique_declarations</a></div><div class="ttdeci">def unique_declarations(self, datatype, access=None)</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00669">psyGen.py:669</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1GenerationError_html"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1GenerationError.html">psyclone.psyGen.GenerationError</a></div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00193">psyGen.py:193</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_a21a4142f2b3d5beac3fbc6ee49a18811"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#a21a4142f2b3d5beac3fbc6ee49a18811">psyclone.psyGen.Invoke.unique_declns_by_intent</a></div><div class="ttdeci">def unique_declns_by_intent(self, datatype)</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00705">psyGen.py:705</a></div></div>
<div class="ttc" id="classpsyclone_1_1psyGen_1_1Invoke_html_abfab1a86fcdebaae406efa3c96696713"><div class="ttname"><a href="classpsyclone_1_1psyGen_1_1Invoke.html#abfab1a86fcdebaae406efa3c96696713">psyclone.psyGen.Invoke.first_access</a></div><div class="ttdeci">def first_access(self, arg_name)</div><div class="ttdef"><b>Definition:</b> <a href="psyGen_8py_source.html#l00694">psyGen.py:694</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/psyclone/<a class="el" href="psyGen_8py_source.html">psyGen.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>psyclone</b></li><li class="navelem"><b>psyGen</b></li><li class="navelem"><a class="el" href="classpsyclone_1_1psyGen_1_1Invoke.html">Invoke</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
