<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PSyclone: psyclone.gocean1p0.GOKern Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="psyclone_v1.0_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSyclone
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classpsyclone_1_1gocean1p0_1_1GOKern.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpsyclone_1_1gocean1p0_1_1GOKern-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">psyclone.gocean1p0.GOKern Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for psyclone.gocean1p0.GOKern:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOKern__inherit__graph.png" border="0" usemap="#psyclone_8gocean1p0_8GOKern_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for psyclone.gocean1p0.GOKern:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOKern__coll__graph.png" border="0" usemap="#psyclone_8gocean1p0_8GOKern_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6dd1fa47c6022e42d7b3884df2089ea0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a6dd1fa47c6022e42d7b3884df2089ea0">__init__</a> (self)</td></tr>
<tr class="separator:a6dd1fa47c6022e42d7b3884df2089ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad1ee8365c96c0d3c9a9ec12f2dfb46"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a9ad1ee8365c96c0d3c9a9ec12f2dfb46">load</a> (self, call, parent=None)</td></tr>
<tr class="separator:a9ad1ee8365c96c0d3c9a9ec12f2dfb46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f0520d54487c784574689e34f0cb8c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab3f0520d54487c784574689e34f0cb8c">local_vars</a> (self)</td></tr>
<tr class="separator:ab3f0520d54487c784574689e34f0cb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132f7961796602cf4e7a6e6cb796c41e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a132f7961796602cf4e7a6e6cb796c41e">gen_code</a> (self, parent)</td></tr>
<tr class="separator:a132f7961796602cf4e7a6e6cb796c41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45ecb5408c93e52bf5a226a2b59850e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af45ecb5408c93e52bf5a226a2b59850e">gen_ocl</a> (self, parent)</td></tr>
<tr class="separator:af45ecb5408c93e52bf5a226a2b59850e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1210a9a231b287d1b96e16aa9076b1d6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a1210a9a231b287d1b96e16aa9076b1d6">index_offset</a> (self)</td></tr>
<tr class="separator:a1210a9a231b287d1b96e16aa9076b1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a839841f0517cb89408b723dac7c52e45"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a839841f0517cb89408b723dac7c52e45">gen_arg_setter_code</a> (self, parent)</td></tr>
<tr class="separator:a839841f0517cb89408b723dac7c52e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a7adfaba0ccbab1a0aea76fefc7f7c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af4a7adfaba0ccbab1a0aea76fefc7f7c">gen_data_on_ocl_device</a> (self, parent)</td></tr>
<tr class="separator:af4a7adfaba0ccbab1a0aea76fefc7f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Stores information about GOcean Kernels as specified by the Kernel
metadata. Uses this information to generate appropriate PSy layer
code for the Kernel instance. Specialises the gen_code method to
create the appropriate GOcean specific kernel call.</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l00864">864</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6dd1fa47c6022e42d7b3884df2089ea0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOKern.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create an empty GOKern object. The object is given state via
the load method </pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l00872">872</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="dynamo0p1_8py_source.html#l00202">psyclone.dynamo0p1.DynKern._arguments</a>, <a class="el" href="gocean0p1_8py_source.html#l00270">psyclone.gocean0p1.GOKern._arguments</a>, <a class="el" href="gocean1p0_8py_source.html#l00876">psyclone.gocean1p0.GOKern._arguments</a>, <a class="el" href="dynamo0p3_8py_source.html#l05152">psyclone.dynamo0p3.DynKern._arguments</a>, <a class="el" href="f2pygen_8py_source.html#l00178">psyclone.f2pygen.BaseGen._children</a>, <a class="el" href="gocean1p0_8py_source.html#l00879">psyclone.gocean1p0.GOKern._children</a>, <a class="el" href="gocean1p0_8py_source.html#l00881">psyclone.gocean1p0.GOKern._index_offset</a>, <a class="el" href="expression_8py_source.html#l00205">psyclone.expression.NamedArg._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l00491">psyclone.dynamo0p3.DynFuncDescriptor03._name</a>, <a class="el" href="gocean1p0_8py_source.html#l00880">psyclone.gocean1p0.GOKern._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l07039">psyclone.dynamo0p3.DynStencil._name</a>, <a class="el" href="dynamo0p3__builtins_8py_source.html#l00126">psyclone.dynamo0p3_builtins.DynBuiltIn._name_space_manager</a>, <a class="el" href="gocean1p0_8py_source.html#l00883">psyclone.gocean1p0.GOKern._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01379">psyclone.dynamo0p3.DynamoInvokes._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01448">psyclone.dynamo0p3.DynInvokeStencil._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01632">psyclone.dynamo0p3.DynInvokeDofmaps._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01803">psyclone.dynamo0p3.DynInvokeCMAOperators._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l01920">psyclone.dynamo0p3.DynMeshes._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l02249">psyclone.dynamo0p3.DynInterGrid._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l02298">psyclone.dynamo0p3.DynInvokeBasisFns._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l03083">psyclone.dynamo0p3.DynInvoke._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l04487">psyclone.dynamo0p3.DynLoop._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l05168">psyclone.dynamo0p3.DynKern._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l05999">psyclone.dynamo0p3.KernCallArgList._name_space_manager</a>, <a class="el" href="dynamo0p3_8py_source.html#l06331">psyclone.dynamo0p3.KernStubArgList._name_space_manager</a>, and <a class="el" href="dynamo0p3_8py_source.html#l07082">psyclone.dynamo0p3.DynKernelArguments._name_space_manager</a>.</p>
<div class="fragment"><div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a6dd1fa47c6022e42d7b3884df2089ea0">  872</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a6dd1fa47c6022e42d7b3884df2089ea0">__init__</a>(self):</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Create an empty GOKern object. The object is given state via</span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="stringliteral">        the load method &#39;&#39;&#39;</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="keywordflow">if</span> <span class="keyword">False</span>:  <span class="comment"># pylint: disable=using-constant-test</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;            self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ae975659d59f42acf138ff5a534c965a9">_arguments</a> = <a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKernelArguments.html">GOKernelArguments</a>(<span class="keywordtype">None</span>, <span class="keywordtype">None</span>)  <span class="comment"># for pyreverse</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="comment"># Create those member variables required for testing and to keep</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="comment"># pylint happy</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a5b360c55dfbbf5001af487284de697fb">_children</a> = []</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab2a5014a3dcf25418c56386ad910e0cb">_name</a> = <span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a2897164dfc7d5d835768f3b6e9331561">_index_offset</a> = <span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="comment"># Get a reference to the namespace manager</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a1b093ecdba25933751b941b5ceb3d36b">_name_space_manager</a> = NameSpaceFactory().create()</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a1b093ecdba25933751b941b5ceb3d36b"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a1b093ecdba25933751b941b5ceb3d36b">psyclone.gocean1p0.GOKern._name_space_manager</a></div><div class="ttdeci">_name_space_manager</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00883">gocean1p0.py:883</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_ab2a5014a3dcf25418c56386ad910e0cb"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab2a5014a3dcf25418c56386ad910e0cb">psyclone.gocean1p0.GOKern._name</a></div><div class="ttdeci">_name</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00880">gocean1p0.py:880</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a5b360c55dfbbf5001af487284de697fb"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a5b360c55dfbbf5001af487284de697fb">psyclone.gocean1p0.GOKern._children</a></div><div class="ttdeci">_children</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00879">gocean1p0.py:879</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKernelArguments_html"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKernelArguments.html">psyclone.gocean1p0.GOKernelArguments</a></div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01155">gocean1p0.py:1155</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_ae975659d59f42acf138ff5a534c965a9"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ae975659d59f42acf138ff5a534c965a9">psyclone.gocean1p0.GOKern._arguments</a></div><div class="ttdeci">_arguments</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00876">gocean1p0.py:876</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a2897164dfc7d5d835768f3b6e9331561"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a2897164dfc7d5d835768f3b6e9331561">psyclone.gocean1p0.GOKern._index_offset</a></div><div class="ttdeci">_index_offset</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00881">gocean1p0.py:881</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a6dd1fa47c6022e42d7b3884df2089ea0"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a6dd1fa47c6022e42d7b3884df2089ea0">psyclone.gocean1p0.GOKern.__init__</a></div><div class="ttdeci">def __init__(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00872">gocean1p0.py:872</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a839841f0517cb89408b723dac7c52e45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOKern.gen_arg_setter_code </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a Fortran routine to set the arguments of the OpenCL
version of this kernel.

:param parent: Parent node of the set-kernel-arguments routine
:type parent: :py:class:`psyclone.f2pygen.moduleGen`
</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l00999">999</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="expression_8py_source.html#l00139">psyclone.expression.FunctionVar.name</a>, <a class="el" href="transformations_8py_source.html#l00156">psyclone.transformations.LoopFuseTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l00235">psyclone.transformations.GOceanLoopFuseTrans.name()</a>, <a class="el" href="expression_8py_source.html#l00247">psyclone.expression.NamedArg.name()</a>, <a class="el" href="transformations_8py_source.html#l00282">psyclone.transformations.DynamoLoopFuseTrans.name()</a>, <a class="el" href="psyGen_8py_source.html#l00320">psyclone.psyGen.PSy.name()</a>, <a class="el" href="transformations_8py_source.html#l00394">psyclone.transformations.ParallelLoopTrans.name()</a>, <a class="el" href="parse_8py_source.html#l00448">psyclone.parse.KernelProcedure.name()</a>, <a class="el" href="transformations_8py_source.html#l00587">psyclone.transformations.OMPLoopTrans.name()</a>, <a class="el" href="parse_8py_source.html#l00628">psyclone.parse.KernelType.name()</a>, <a class="el" href="psyGen_8py_source.html#l00643">psyclone.psyGen.Invoke.name()</a>, <a class="el" href="transformations_8py_source.html#l00738">psyclone.transformations.ACCLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l00837">psyclone.transformations.OMPParallelLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l00918">psyclone.transformations.DynamoOMPParallelLoopTrans.name()</a>, <a class="el" href="parse_8py_source.html#l00920">psyclone.parse.InvokeCall.name()</a>, <a class="el" href="parse_8py_source.html#l00936">psyclone.parse.FileInfo.name()</a>, <a class="el" href="transformations_8py_source.html#l00966">psyclone.transformations.GOceanOMPParallelLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01004">psyclone.transformations.Dynamo0p3OMPLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01054">psyclone.transformations.GOceanOMPLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01107">psyclone.transformations.ColourTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01203">psyclone.transformations.KernelModuleInlineTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01304">psyclone.transformations.Dynamo0p3ColourTrans.name()</a>, <a class="el" href="dynamo0p3_8py_source.html#l01337">psyclone.dynamo0p3.DynamoPSy.name()</a>, <a class="el" href="transformations_8py_source.html#l01379">psyclone.transformations.ParallelRegionTrans.name()</a>, <a class="el" href="gocean1p0_8py_source.html#l01387">psyclone.gocean1p0.GOKernelGridArgument.name()</a>, <a class="el" href="transformations_8py_source.html#l01534">psyclone.transformations.OMPParallelTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01598">psyclone.transformations.ACCParallelTrans.name()</a>, <a class="el" href="gocean1p0_8py_source.html#l01609">psyclone.gocean1p0.GOStencil.name()</a>, <a class="el" href="transformations_8py_source.html#l01672">psyclone.transformations.GOConstLoopBoundsTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01728">psyclone.transformations.MoveTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01805">psyclone.transformations.Dynamo0p3RedundantComputationTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02049">psyclone.transformations.GOLoopSwapTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02162">psyclone.transformations.OCLTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02253">psyclone.transformations.ProfileRegionTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02350">psyclone.transformations.Dynamo0p3AsyncHaloExchangeTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02446">psyclone.transformations.ACCDataTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02524">psyclone.transformations.ACCRoutineTrans.name()</a>, <a class="el" href="psyGen_8py_source.html#l03152">psyclone.psyGen.Call.name()</a>, <a class="el" href="psyGen_8py_source.html#l03570">psyclone.psyGen.Kern.name</a>, <a class="el" href="psyGen_8py_source.html#l03934">psyclone.psyGen.Argument.name()</a>, <a class="el" href="psyGen_8py_source.html#l04327">psyclone.psyGen.Transformation.name()</a>, and <a class="el" href="psyGen_8py_source.html#l04362">psyclone.psyGen.DummyTransformation.name()</a>.</p>
<div class="fragment"><div class="line"><a name="l00999"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a839841f0517cb89408b723dac7c52e45">  999</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a839841f0517cb89408b723dac7c52e45">gen_arg_setter_code</a>(self, parent):</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="stringliteral">        Creates a Fortran routine to set the arguments of the OpenCL</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="stringliteral">        version of this kernel.</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="stringliteral">        :param parent: Parent node of the set-kernel-arguments routine</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="stringliteral">        :type parent: :py:class:`psyclone.f2pygen.moduleGen`</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keyword">from</span> <a class="code" href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a> <span class="keyword">import</span> SubroutineGen, UseGen, DeclGen, \</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            AssignGen, CommentGen</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        <span class="comment"># Currently literal arguments are checked for and rejected by</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="comment"># the OpenCL transformation.</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        kobj = self._name_space_manager.create_name(</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            root_name=<span class="stringliteral">&quot;kernel_obj&quot;</span>, context=<span class="stringliteral">&quot;ArgSetter&quot;</span>, label=<span class="stringliteral">&quot;kernel_obj&quot;</span>)</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        nx_name = self._name_space_manager.create_name(</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            root_name=<span class="stringliteral">&quot;nx&quot;</span>, context=<span class="stringliteral">&quot;ArgSetter&quot;</span>, label=<span class="stringliteral">&quot;nx&quot;</span>)</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        args = [kobj, nx_name] + [arg.name <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> self._arguments.args]</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        sub_name = self._name_space_manager.create_name(</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;            root_name=self.name+<span class="stringliteral">&quot;_set_args&quot;</span>, context=self.name+<span class="stringliteral">&quot;ArgSetter&quot;</span>,</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            label=self.name+<span class="stringliteral">&quot;_set_args&quot;</span>)</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        sub = SubroutineGen(parent, name=sub_name, args=args)</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        parent.add(sub)</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        sub.add(UseGen(sub, name=<span class="stringliteral">&quot;ocl_utils_mod&quot;</span>, only=<span class="keyword">True</span>,</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                       funcnames=[<span class="stringliteral">&quot;check_status&quot;</span>]))</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        sub.add(UseGen(sub, name=<span class="stringliteral">&quot;iso_c_binding&quot;</span>, only=<span class="keyword">True</span>,</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                       funcnames=[<span class="stringliteral">&quot;c_sizeof&quot;</span>, <span class="stringliteral">&quot;c_loc&quot;</span>, <span class="stringliteral">&quot;c_intptr_t&quot;</span>]))</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        sub.add(UseGen(sub, name=<span class="stringliteral">&quot;clfortran&quot;</span>, only=<span class="keyword">True</span>,</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                       funcnames=[<span class="stringliteral">&quot;clSetKernelArg&quot;</span>]))</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="comment"># Declare arguments</span></div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        sub.add(DeclGen(sub, datatype=<span class="stringliteral">&quot;integer&quot;</span>, target=<span class="keyword">True</span>,</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                        entity_decls=[nx_name]))</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        sub.add(DeclGen(sub, datatype=<span class="stringliteral">&quot;integer&quot;</span>, kind=<span class="stringliteral">&quot;c_intptr_t&quot;</span>,</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                        target=<span class="keyword">True</span>, entity_decls=[kobj]))</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="comment"># Arrays (grid properties and fields)</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        args = args_filter(self._arguments.args,</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                           arg_types=[<span class="stringliteral">&quot;field&quot;</span>, <span class="stringliteral">&quot;grid_property&quot;</span>])</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="keywordflow">if</span> args:</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            sub.add(DeclGen(sub, datatype=<span class="stringliteral">&quot;integer&quot;</span>, kind=<span class="stringliteral">&quot;c_intptr_t&quot;</span>,</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                            target=<span class="keyword">True</span>,</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                            entity_decls=[arg.name <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> args]))</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="comment"># Scalars</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        args = args_filter(self._arguments.args,</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                           arg_types=[<span class="stringliteral">&quot;scalar&quot;</span>],</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                           is_literal=<span class="keyword">False</span>)</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> args:</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="keywordflow">if</span> arg.space.lower() == <span class="stringliteral">&quot;go_r_scalar&quot;</span>:</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                sub.add(DeclGen(</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                    sub, datatype=<span class="stringliteral">&quot;REAL&quot;</span>, intent=<span class="stringliteral">&quot;in&quot;</span>, kind=<span class="stringliteral">&quot;go_wp&quot;</span>,</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                    target=<span class="keyword">True</span>, entity_decls=[arg.name]))</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                sub.add(DeclGen(sub, datatype=<span class="stringliteral">&quot;INTEGER&quot;</span>, intent=<span class="stringliteral">&quot;in&quot;</span>,</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                                target=<span class="keyword">True</span>, entity_decls=[arg.name]))</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="comment"># Declare local variables</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        err_name = self._name_space_manager.create_name(</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            root_name=<span class="stringliteral">&quot;ierr&quot;</span>, context=<span class="stringliteral">&quot;PSyVars&quot;</span>, label=<span class="stringliteral">&quot;ierr&quot;</span>)</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        sub.add(DeclGen(sub, datatype=<span class="stringliteral">&quot;integer&quot;</span>, entity_decls=[err_name]))</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        sub.add(CommentGen(</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            sub,</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <span class="stringliteral">&quot; Set the arguments for the {0} OpenCL Kernel&quot;</span>.format(self.name)))</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="comment"># We must always pass &quot;nx&quot; (the horizontal dimension of the grid) into</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <span class="comment"># a kernel</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        index = 0</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        sub.add(AssignGen(</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            sub, lhs=err_name,</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;            rhs=<span class="stringliteral">&quot;clSetKernelArg({0}, {1}, C_SIZEOF({2}), C_LOC({2}))&quot;</span>.</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            format(kobj, index, nx_name)))</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        <span class="comment"># Now all of the &#39;standard&#39; kernel arguments</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> self.arguments.args:</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            index += 1</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            arg.set_kernel_arg(sub, index, self.name)</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a839841f0517cb89408b723dac7c52e45"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a839841f0517cb89408b723dac7c52e45">psyclone.gocean1p0.GOKern.gen_arg_setter_code</a></div><div class="ttdeci">def gen_arg_setter_code(self, parent)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00999">gocean1p0.py:999</a></div></div>
<div class="ttc" id="namespacepsyclone_1_1f2pygen_html"><div class="ttname"><a href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a></div><div class="ttdef"><b>Definition:</b> <a href="f2pygen_8py_source.html#l00001">f2pygen.py:1</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOKern_a839841f0517cb89408b723dac7c52e45_cgraph.png" border="0" usemap="#classpsyclone_1_1gocean1p0_1_1GOKern_a839841f0517cb89408b723dac7c52e45_cgraph" alt=""/></div>
<map name="classpsyclone_1_1gocean1p0_1_1GOKern_a839841f0517cb89408b723dac7c52e45_cgraph" id="classpsyclone_1_1gocean1p0_1_1GOKern_a839841f0517cb89408b723dac7c52e45_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1transformations_1_1LoopFuseTrans.html#a60f2aef477f5404e6d6f95ce3b9419b0" title="psyclone.transformations.\lLoopFuseTrans.name" alt="" coords="334,5,506,47"/>
<area shape="rect" id="node3" href="classpsyclone_1_1transformations_1_1GOceanLoopFuseTrans.html#a934f2a73b8a8b1c36c5d9b68f6f2ca9d" title="psyclone.transformations.\lGOceanLoopFuseTrans.name" alt="" coords="322,71,518,112"/>
<area shape="rect" id="node4" href="classpsyclone_1_1expression_1_1NamedArg.html#ac4cb9d183a023788a9e5cb85a4899206" title="psyclone.expression.Named\lArg.name" alt="" coords="649,131,836,172"/>
<area shape="rect" id="node5" href="classpsyclone_1_1transformations_1_1DynamoLoopFuseTrans.html#a3fa1e29fcda7f2609ef729350f18486d" title="psyclone.transformations.\lDynamoLoopFuseTrans.name" alt="" coords="321,863,519,904"/>
<area shape="rect" id="node6" href="classpsyclone_1_1psyGen_1_1PSy.html#a37f45fcc08001b7910dbad5265805655" title="psyclone.psyGen.PSy.name" alt="" coords="649,197,837,223"/>
<area shape="rect" id="node7" href="classpsyclone_1_1transformations_1_1ParallelLoopTrans.html#abace2e3bf52fbcf4eae4aa122d4bae6b" title="psyclone.transformations.\lParallelLoopTrans.name" alt="" coords="334,928,506,969"/>
<area shape="rect" id="node8" href="classpsyclone_1_1parse_1_1KernelProcedure.html#a8c0311b352ec24eb070e5011ca0a381c" title="psyclone.parse.KernelProcedure.name" alt="" coords="619,247,866,274"/>
<area shape="rect" id="node9" href="classpsyclone_1_1transformations_1_1OMPLoopTrans.html#a219145cd3d848ae21ebfb0b09db0c66d" title="psyclone.transformations.\lOMPLoopTrans.name" alt="" coords="334,993,506,1035"/>
<area shape="rect" id="node10" href="classpsyclone_1_1parse_1_1KernelType.html#aae575d92f86e6ec52cea59d3861641d4" title="psyclone.parse.KernelType.name" alt="" coords="635,298,851,325"/>
<area shape="rect" id="node11" href="classpsyclone_1_1psyGen_1_1Invoke.html#ab6699fa93b458cffc4fa3874e0de2e1b" title="psyclone.psyGen.Invoke.name" alt="" coords="641,349,844,375"/>
<area shape="rect" id="node12" href="classpsyclone_1_1transformations_1_1ACCLoopTrans.html#af100dd31a901242dbe55306f8c3eb95a" title="psyclone.transformations.\lACCLoopTrans.name" alt="" coords="334,1059,506,1100"/>
<area shape="rect" id="node13" href="classpsyclone_1_1transformations_1_1OMPParallelLoopTrans.html#a430f00409923ce8d65f2c09f2904ebe7" title="psyclone.transformations.\lOMPParallelLoopTrans.name" alt="" coords="324,441,516,483"/>
<area shape="rect" id="node14" href="classpsyclone_1_1dynamo0p3_1_1DynamoPSy.html#a141020148f72afddde684416b8dde610" title="psyclone.dynamo0p3.Dynamo\lPSy.name" alt="" coords="643,401,842,443"/>
<area shape="rect" id="node15" href="classpsyclone_1_1gocean1p0_1_1GOKernelGridArgument.html#afa1becc18e248912b340da32ae64e299" title="psyclone.gocean1p0.GOKernel\lGridArgument.name" alt="" coords="641,468,844,509"/>
<area shape="rect" id="node16" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a800748aca0ce297d84e04a80e6e6c25e" title="psyclone.gocean1p0.GOStencil.name" alt="" coords="622,538,863,565"/>
<area shape="rect" id="node18" href="classpsyclone_1_1parse_1_1InvokeCall.html#af84d250c83359ef22f462ebebb14bda1" title="psyclone.parse.InvokeCall.name" alt="" coords="637,595,849,622"/>
<area shape="rect" id="node19" href="classpsyclone_1_1parse_1_1FileInfo.html#aa6ece28a0fa90fd87f88e40671f500f0" title="psyclone.parse.FileInfo.name" alt="" coords="646,659,839,686"/>
<area shape="rect" id="node20" href="classpsyclone_1_1psyGen_1_1Call.html#ab6cd89a828dd1d73bbde86983f1e15a2" title="psyclone.psyGen.Call.name" alt="" coords="649,710,836,737"/>
<area shape="rect" id="node21" href="classpsyclone_1_1psyGen_1_1Argument.html#ae323e3ade62495a47a1cf17e7b07aff2" title="psyclone.psyGen.Argument.name" alt="" coords="633,761,852,787"/>
<area shape="rect" id="node22" href="classpsyclone_1_1psyGen_1_1Transformation.html#a8f2f8d3c3a034a7e7c4ab7484364a058" title="psyclone.psyGen.Transformation.name" alt="" coords="617,811,868,838"/>
<area shape="rect" id="node23" href="classpsyclone_1_1transformations_1_1DynamoOMPParallelLoopTrans.html#a1b09d40652901a9c7ed7da856bae9f1b" title="psyclone.transformations.\lDynamoOMPParallelLoopTrans.name" alt="" coords="299,1124,541,1165"/>
<area shape="rect" id="node24" href="classpsyclone_1_1transformations_1_1GOceanOMPParallelLoopTrans.html#a5c250dfb2df40e31ce582561a74bdf71" title="psyclone.transformations.\lGOceanOMPParallelLoopTrans.name" alt="" coords="300,1189,540,1231"/>
<area shape="rect" id="node25" href="classpsyclone_1_1transformations_1_1Dynamo0p3OMPLoopTrans.html#af2d3ef0d707615e053a960883e933cde" title="psyclone.transformations.\lDynamo0p3OMPLoopTrans.name" alt="" coords="311,1255,529,1296"/>
<area shape="rect" id="node26" href="classpsyclone_1_1transformations_1_1GOceanOMPLoopTrans.html#ab9e69651129d13689e0f2e2f45e21690" title="psyclone.transformations.\lGOceanOMPLoopTrans.name" alt="" coords="321,1320,519,1361"/>
<area shape="rect" id="node27" href="classpsyclone_1_1transformations_1_1ColourTrans.html#a7df308ccb7e39848c0988d7cde6b7697" title="psyclone.transformations.\lColourTrans.name" alt="" coords="334,1385,506,1427"/>
<area shape="rect" id="node28" href="classpsyclone_1_1transformations_1_1KernelModuleInlineTrans.html#ad41627af65faa57b3d551a7ea88d3d21" title="psyclone.transformations.\lKernelModuleInlineTrans.name" alt="" coords="319,1451,521,1492"/>
<area shape="rect" id="node29" href="classpsyclone_1_1transformations_1_1Dynamo0p3ColourTrans.html#a278fdc5478463c9c38c80b4ed9b5fec5" title="psyclone.transformations.\lDynamo0p3ColourTrans.name" alt="" coords="321,1516,519,1557"/>
<area shape="rect" id="node30" href="classpsyclone_1_1transformations_1_1ParallelRegionTrans.html#acb06df17fd4b2fc7e59240552084f713" title="psyclone.transformations.\lParallelRegionTrans.name" alt="" coords="333,1581,507,1623"/>
<area shape="rect" id="node31" href="classpsyclone_1_1transformations_1_1OMPParallelTrans.html#aeb9202804d7900597467d64b7aaf9b10" title="psyclone.transformations.\lOMPParallelTrans.name" alt="" coords="334,1647,506,1688"/>
<area shape="rect" id="node32" href="classpsyclone_1_1transformations_1_1ACCParallelTrans.html#ac48b1fcb5810c75954fb00cc981af7bc" title="psyclone.transformations.\lACCParallelTrans.name" alt="" coords="334,1712,506,1753"/>
<area shape="rect" id="node33" href="classpsyclone_1_1transformations_1_1GOConstLoopBoundsTrans.html#a4d7673cf744a37aefd5aff2420d0e22d" title="psyclone.transformations.\lGOConstLoopBoundsTrans.name" alt="" coords="311,1777,529,1819"/>
<area shape="rect" id="node34" href="classpsyclone_1_1transformations_1_1MoveTrans.html#aa81d30527e71b783115e41f5a618575c" title="psyclone.transformations.\lMoveTrans.name" alt="" coords="334,1843,506,1884"/>
<area shape="rect" id="node35" href="classpsyclone_1_1transformations_1_1Dynamo0p3RedundantComputationTrans.html#a2f602c4362189efe0609a08db35fbe97" title="psyclone.transformations.\lDynamo0p3RedundantComputationTrans.name" alt="" coords="271,1908,569,1949"/>
<area shape="rect" id="node36" href="classpsyclone_1_1transformations_1_1GOLoopSwapTrans.html#a87d7c2a18100a987b1e34ba3fe259913" title="psyclone.transformations.\lGOLoopSwapTrans.name" alt="" coords="334,1973,506,2015"/>
<area shape="rect" id="node37" href="classpsyclone_1_1transformations_1_1OCLTrans.html#a7fa2de87bc354dabb547078347fff723" title="psyclone.transformations.\lOCLTrans.name" alt="" coords="334,2039,506,2080"/>
<area shape="rect" id="node38" href="classpsyclone_1_1transformations_1_1ProfileRegionTrans.html#a7170cc8864860e6b3ced2065e3c669a3" title="psyclone.transformations.\lProfileRegionTrans.name" alt="" coords="334,2104,506,2145"/>
<area shape="rect" id="node39" href="classpsyclone_1_1transformations_1_1Dynamo0p3AsyncHaloExchangeTrans.html#afdf4c065c3d8249f852ee55edfae8798" title="psyclone.transformations.\lDynamo0p3AsyncHaloExchangeTrans.name" alt="" coords="279,2169,561,2211"/>
<area shape="rect" id="node40" href="classpsyclone_1_1transformations_1_1ACCDataTrans.html#a25aa1c44dac98e793d3a7f8892acdb31" title="psyclone.transformations.\lACCDataTrans.name" alt="" coords="334,2235,506,2276"/>
<area shape="rect" id="node41" href="classpsyclone_1_1transformations_1_1ACCRoutineTrans.html#a5d406059da780e0f76057a808de80480" title="psyclone.transformations.\lACCRoutineTrans.name" alt="" coords="334,2300,506,2341"/>
<area shape="rect" id="node42" href="classpsyclone_1_1psyGen_1_1DummyTransformation.html#a18ce14fdcd6ec1039d538b1d54af4ed2" title="psyclone.psyGen.DummyTransformation.name" alt="" coords="272,2366,568,2393"/>
<area shape="rect" id="node17" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733" title="psyclone.gocean1p0.GOStencil.\l_check_init" alt="" coords="916,531,1125,572"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a132f7961796602cf4e7a6e6cb796c41e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOKern.gen_code </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generates GOcean v1.0 specific psy code for a call to the
kernel instance. Also ensures that the kernel is written to file
if it has been transformed.

:param parent: parent node in the f2pygen AST being created.
:type parent: :py:class:`psyclone.f2pygen.LoopGen`

:raises GenerationError: if the kernel requires a grid property but \
                 does not have any field arguments.
:raises GenerationError: if it encounters a kernel argument of \
                 unrecognised type.
</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l00901">901</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="profiler_8py_source.html#l00162">psyclone.profiler.ProfileNode._module_name</a>, <a class="el" href="parse_8py_source.html#l00831">psyclone.parse.KernelCall._module_name</a>, <a class="el" href="psyGen_8py_source.html#l03202">psyclone.psyGen.Kern._module_name</a>, <a class="el" href="expression_8py_source.html#l00205">psyclone.expression.NamedArg._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l00491">psyclone.dynamo0p3.DynFuncDescriptor03._name</a>, <a class="el" href="gocean1p0_8py_source.html#l00880">psyclone.gocean1p0.GOKern._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l07039">psyclone.dynamo0p3.DynStencil._name</a>, <a class="el" href="gocean1p0_8py_source.html#l00932">psyclone.gocean1p0.GOKern.gen_ocl()</a>, <a class="el" href="psyGen_8py_source.html#l03238">psyclone.psyGen.Kern.module_inline()</a>, and <a class="el" href="psyGen_8py_source.html#l03416">psyclone.psyGen.Kern.rename_and_write()</a>.</p>
<div class="fragment"><div class="line"><a name="l00901"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a132f7961796602cf4e7a6e6cb796c41e">  901</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a132f7961796602cf4e7a6e6cb796c41e">gen_code</a>(self, parent):</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="stringliteral">        Generates GOcean v1.0 specific psy code for a call to the</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="stringliteral">        kernel instance. Also ensures that the kernel is written to file</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="stringliteral">        if it has been transformed.</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="stringliteral">        :param parent: parent node in the f2pygen AST being created.</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="stringliteral">        :type parent: :py:class:`psyclone.f2pygen.LoopGen`</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="stringliteral">        :raises GenerationError: if the kernel requires a grid property but \</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="stringliteral">                                 does not have any field arguments.</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="stringliteral">        :raises GenerationError: if it encounters a kernel argument of \</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="stringliteral">                                 unrecognised type.</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keyword">from</span> <a class="code" href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a> <span class="keyword">import</span> CallGen, UseGen</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="comment"># If the kernel has been transformed then we rename it. If it</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="comment"># is *not* being module inlined then we also write it to file.</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        self.rename_and_write()</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <span class="keywordflow">if</span> self.root.opencl:</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            <span class="comment"># OpenCL is completely different so has its own gen method.</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af45ecb5408c93e52bf5a226a2b59850e">gen_ocl</a>(parent)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">return</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        arguments = self._arguments.raw_arg_list()</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        parent.add(CallGen(parent, self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab2a5014a3dcf25418c56386ad910e0cb">_name</a>, arguments))</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.module_inline:</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            parent.add(UseGen(parent, name=self._module_name, only=<span class="keyword">True</span>,</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                              funcnames=[self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab2a5014a3dcf25418c56386ad910e0cb">_name</a>]))</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_ab2a5014a3dcf25418c56386ad910e0cb"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab2a5014a3dcf25418c56386ad910e0cb">psyclone.gocean1p0.GOKern._name</a></div><div class="ttdeci">_name</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00880">gocean1p0.py:880</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_af45ecb5408c93e52bf5a226a2b59850e"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af45ecb5408c93e52bf5a226a2b59850e">psyclone.gocean1p0.GOKern.gen_ocl</a></div><div class="ttdeci">def gen_ocl(self, parent)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00932">gocean1p0.py:932</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a132f7961796602cf4e7a6e6cb796c41e"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a132f7961796602cf4e7a6e6cb796c41e">psyclone.gocean1p0.GOKern.gen_code</a></div><div class="ttdeci">def gen_code(self, parent)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00901">gocean1p0.py:901</a></div></div>
<div class="ttc" id="namespacepsyclone_1_1f2pygen_html"><div class="ttname"><a href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a></div><div class="ttdef"><b>Definition:</b> <a href="f2pygen_8py_source.html#l00001">f2pygen.py:1</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOKern_a132f7961796602cf4e7a6e6cb796c41e_cgraph.png" border="0" usemap="#classpsyclone_1_1gocean1p0_1_1GOKern_a132f7961796602cf4e7a6e6cb796c41e_cgraph" alt=""/></div>
<map name="classpsyclone_1_1gocean1p0_1_1GOKern_a132f7961796602cf4e7a6e6cb796c41e_cgraph" id="classpsyclone_1_1gocean1p0_1_1GOKern_a132f7961796602cf4e7a6e6cb796c41e_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af45ecb5408c93e52bf5a226a2b59850e" title="psyclone.gocean1p0.GOKern.gen_ocl" alt="" coords="305,1323,547,1350"/>
<area shape="rect" id="node44" href="classpsyclone_1_1psyGen_1_1Kern.html#a5ac797e20a001a03352553fcf8f1c1b1" title="psyclone.psyGen.Kern.module\l_inline" alt="" coords="644,2481,844,2523"/>
<area shape="rect" id="node45" href="classpsyclone_1_1psyGen_1_1Kern.html#ae26d7ab1f33dfbcb1b46dea82c22800c" title="psyclone.psyGen.Kern.rename\l_and_write" alt="" coords="325,2591,527,2632"/>
<area shape="rect" id="node3" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af4a7adfaba0ccbab1a0aea76fefc7f7c" title="psyclone.gocean1p0.GOKern.gen\l_data_on_ocl_device" alt="" coords="635,1181,853,1223"/>
<area shape="rect" id="node4" href="classpsyclone_1_1dynamo0p3_1_1DynamoPSy.html#a141020148f72afddde684416b8dde610" title="psyclone.dynamo0p3.Dynamo\lPSy.name" alt="" coords="967,1241,1166,1283"/>
<area shape="rect" id="node5" href="classpsyclone_1_1expression_1_1NamedArg.html#ac4cb9d183a023788a9e5cb85a4899206" title="psyclone.expression.Named\lArg.name" alt="" coords="973,1307,1160,1348"/>
<area shape="rect" id="node6" href="classpsyclone_1_1gocean1p0_1_1GOKernelGridArgument.html#afa1becc18e248912b340da32ae64e299" title="psyclone.gocean1p0.GOKernel\lGridArgument.name" alt="" coords="965,1372,1168,1413"/>
<area shape="rect" id="node7" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a800748aca0ce297d84e04a80e6e6c25e" title="psyclone.gocean1p0.GOStencil.name" alt="" coords="946,1439,1187,1466"/>
<area shape="rect" id="node8" href="classpsyclone_1_1parse_1_1KernelProcedure.html#a8c0311b352ec24eb070e5011ca0a381c" title="psyclone.parse.KernelProcedure.name" alt="" coords="943,1493,1190,1519"/>
<area shape="rect" id="node9" href="classpsyclone_1_1parse_1_1KernelType.html#aae575d92f86e6ec52cea59d3861641d4" title="psyclone.parse.KernelType.name" alt="" coords="959,1549,1175,1575"/>
<area shape="rect" id="node10" href="classpsyclone_1_1parse_1_1InvokeCall.html#af84d250c83359ef22f462ebebb14bda1" title="psyclone.parse.InvokeCall.name" alt="" coords="961,1610,1173,1637"/>
<area shape="rect" id="node11" href="classpsyclone_1_1parse_1_1FileInfo.html#aa6ece28a0fa90fd87f88e40671f500f0" title="psyclone.parse.FileInfo.name" alt="" coords="970,1662,1163,1689"/>
<area shape="rect" id="node12" href="classpsyclone_1_1psyGen_1_1PSy.html#a37f45fcc08001b7910dbad5265805655" title="psyclone.psyGen.PSy.name" alt="" coords="973,1717,1161,1743"/>
<area shape="rect" id="node13" href="classpsyclone_1_1psyGen_1_1Invoke.html#ab6699fa93b458cffc4fa3874e0de2e1b" title="psyclone.psyGen.Invoke.name" alt="" coords="965,1769,1168,1795"/>
<area shape="rect" id="node14" href="classpsyclone_1_1psyGen_1_1Call.html#ab6cd89a828dd1d73bbde86983f1e15a2" title="psyclone.psyGen.Call.name" alt="" coords="973,1821,1160,1847"/>
<area shape="rect" id="node15" href="classpsyclone_1_1psyGen_1_1Argument.html#ae323e3ade62495a47a1cf17e7b07aff2" title="psyclone.psyGen.Argument.name" alt="" coords="957,1871,1176,1898"/>
<area shape="rect" id="node16" href="classpsyclone_1_1psyGen_1_1Transformation.html#a8f2f8d3c3a034a7e7c4ab7484364a058" title="psyclone.psyGen.Transformation.name" alt="" coords="941,1922,1192,1949"/>
<area shape="rect" id="node17" href="classpsyclone_1_1psyGen_1_1DummyTransformation.html#a18ce14fdcd6ec1039d538b1d54af4ed2" title="psyclone.psyGen.DummyTransformation.name" alt="" coords="596,1973,892,1999"/>
<area shape="rect" id="node18" href="classpsyclone_1_1transformations_1_1LoopFuseTrans.html#a60f2aef477f5404e6d6f95ce3b9419b0" title="psyclone.transformations.\lLoopFuseTrans.name" alt="" coords="658,2024,830,2065"/>
<area shape="rect" id="node19" href="classpsyclone_1_1transformations_1_1GOceanLoopFuseTrans.html#a934f2a73b8a8b1c36c5d9b68f6f2ca9d" title="psyclone.transformations.\lGOceanLoopFuseTrans.name" alt="" coords="646,2089,842,2131"/>
<area shape="rect" id="node20" href="classpsyclone_1_1transformations_1_1DynamoLoopFuseTrans.html#a3fa1e29fcda7f2609ef729350f18486d" title="psyclone.transformations.\lDynamoLoopFuseTrans.name" alt="" coords="645,2155,843,2196"/>
<area shape="rect" id="node21" href="classpsyclone_1_1transformations_1_1ParallelLoopTrans.html#abace2e3bf52fbcf4eae4aa122d4bae6b" title="psyclone.transformations.\lParallelLoopTrans.name" alt="" coords="658,2220,830,2261"/>
<area shape="rect" id="node22" href="classpsyclone_1_1transformations_1_1OMPLoopTrans.html#a219145cd3d848ae21ebfb0b09db0c66d" title="psyclone.transformations.\lOMPLoopTrans.name" alt="" coords="658,2285,830,2327"/>
<area shape="rect" id="node23" href="classpsyclone_1_1transformations_1_1ACCLoopTrans.html#af100dd31a901242dbe55306f8c3eb95a" title="psyclone.transformations.\lACCLoopTrans.name" alt="" coords="658,2351,830,2392"/>
<area shape="rect" id="node24" href="classpsyclone_1_1transformations_1_1OMPParallelLoopTrans.html#a430f00409923ce8d65f2c09f2904ebe7" title="psyclone.transformations.\lOMPParallelLoopTrans.name" alt="" coords="648,1603,840,1644"/>
<area shape="rect" id="node25" href="classpsyclone_1_1transformations_1_1DynamoOMPParallelLoopTrans.html#a1b09d40652901a9c7ed7da856bae9f1b" title="psyclone.transformations.\lDynamoOMPParallelLoopTrans.name" alt="" coords="623,2416,865,2457"/>
<area shape="rect" id="node26" href="classpsyclone_1_1transformations_1_1GOceanOMPParallelLoopTrans.html#a5c250dfb2df40e31ce582561a74bdf71" title="psyclone.transformations.\lGOceanOMPParallelLoopTrans.name" alt="" coords="624,5,864,47"/>
<area shape="rect" id="node27" href="classpsyclone_1_1transformations_1_1Dynamo0p3OMPLoopTrans.html#af2d3ef0d707615e053a960883e933cde" title="psyclone.transformations.\lDynamo0p3OMPLoopTrans.name" alt="" coords="635,71,853,112"/>
<area shape="rect" id="node28" href="classpsyclone_1_1transformations_1_1GOceanOMPLoopTrans.html#ab9e69651129d13689e0f2e2f45e21690" title="psyclone.transformations.\lGOceanOMPLoopTrans.name" alt="" coords="645,136,843,177"/>
<area shape="rect" id="node29" href="classpsyclone_1_1transformations_1_1ColourTrans.html#a7df308ccb7e39848c0988d7cde6b7697" title="psyclone.transformations.\lColourTrans.name" alt="" coords="658,201,830,243"/>
<area shape="rect" id="node30" href="classpsyclone_1_1transformations_1_1KernelModuleInlineTrans.html#ad41627af65faa57b3d551a7ea88d3d21" title="psyclone.transformations.\lKernelModuleInlineTrans.name" alt="" coords="643,267,845,308"/>
<area shape="rect" id="node31" href="classpsyclone_1_1transformations_1_1Dynamo0p3ColourTrans.html#a278fdc5478463c9c38c80b4ed9b5fec5" title="psyclone.transformations.\lDynamo0p3ColourTrans.name" alt="" coords="645,332,843,373"/>
<area shape="rect" id="node32" href="classpsyclone_1_1transformations_1_1ParallelRegionTrans.html#acb06df17fd4b2fc7e59240552084f713" title="psyclone.transformations.\lParallelRegionTrans.name" alt="" coords="657,397,831,439"/>
<area shape="rect" id="node33" href="classpsyclone_1_1transformations_1_1OMPParallelTrans.html#aeb9202804d7900597467d64b7aaf9b10" title="psyclone.transformations.\lOMPParallelTrans.name" alt="" coords="658,463,830,504"/>
<area shape="rect" id="node34" href="classpsyclone_1_1transformations_1_1ACCParallelTrans.html#ac48b1fcb5810c75954fb00cc981af7bc" title="psyclone.transformations.\lACCParallelTrans.name" alt="" coords="658,528,830,569"/>
<area shape="rect" id="node35" href="classpsyclone_1_1transformations_1_1GOConstLoopBoundsTrans.html#a4d7673cf744a37aefd5aff2420d0e22d" title="psyclone.transformations.\lGOConstLoopBoundsTrans.name" alt="" coords="635,593,853,635"/>
<area shape="rect" id="node36" href="classpsyclone_1_1transformations_1_1MoveTrans.html#aa81d30527e71b783115e41f5a618575c" title="psyclone.transformations.\lMoveTrans.name" alt="" coords="658,659,830,700"/>
<area shape="rect" id="node37" href="classpsyclone_1_1transformations_1_1Dynamo0p3RedundantComputationTrans.html#a2f602c4362189efe0609a08db35fbe97" title="psyclone.transformations.\lDynamo0p3RedundantComputationTrans.name" alt="" coords="595,724,893,765"/>
<area shape="rect" id="node38" href="classpsyclone_1_1transformations_1_1GOLoopSwapTrans.html#a87d7c2a18100a987b1e34ba3fe259913" title="psyclone.transformations.\lGOLoopSwapTrans.name" alt="" coords="658,789,830,831"/>
<area shape="rect" id="node39" href="classpsyclone_1_1transformations_1_1OCLTrans.html#a7fa2de87bc354dabb547078347fff723" title="psyclone.transformations.\lOCLTrans.name" alt="" coords="658,855,830,896"/>
<area shape="rect" id="node40" href="classpsyclone_1_1transformations_1_1ProfileRegionTrans.html#a7170cc8864860e6b3ced2065e3c669a3" title="psyclone.transformations.\lProfileRegionTrans.name" alt="" coords="658,920,830,961"/>
<area shape="rect" id="node41" href="classpsyclone_1_1transformations_1_1Dynamo0p3AsyncHaloExchangeTrans.html#afdf4c065c3d8249f852ee55edfae8798" title="psyclone.transformations.\lDynamo0p3AsyncHaloExchangeTrans.name" alt="" coords="603,985,885,1027"/>
<area shape="rect" id="node42" href="classpsyclone_1_1transformations_1_1ACCDataTrans.html#a25aa1c44dac98e793d3a7f8892acdb31" title="psyclone.transformations.\lACCDataTrans.name" alt="" coords="658,1051,830,1092"/>
<area shape="rect" id="node43" href="classpsyclone_1_1transformations_1_1ACCRoutineTrans.html#a5d406059da780e0f76057a808de80480" title="psyclone.transformations.\lACCRoutineTrans.name" alt="" coords="658,1116,830,1157"/>
<area shape="rect" id="node46" href="classpsyclone_1_1parse_1_1ParsedCall.html#a03868009ba0037149c63a82e72a6ebeb" title="psyclone.parse.ParsedCall.module_name" alt="" coords="613,2598,875,2625"/>
<area shape="rect" id="node47" href="classpsyclone_1_1psyGen_1_1Kern.html#ad5b450290aead5fd6e5bf3baa97ebc66" title="psyclone.psyGen.Kern.module_name" alt="" coords="625,2649,863,2675"/>
<area shape="rect" id="node48" href="classpsyclone_1_1psyGen_1_1Kern.html#a6c529a98b9eb2078e6bc9099d7f820c8" title="psyclone.psyGen.Kern.\l_rename_ast" alt="" coords="665,2700,823,2741"/>
<area shape="rect" id="node49" href="classpsyclone_1_1parse_1_1KernelProcedure.html#a6ab729ccd2c08dbe5f7cffba38294e11" title="psyclone.parse.KernelProcedure.ast" alt="" coords="628,2766,860,2793"/>
<area shape="rect" id="node50" href="classpsyclone_1_1psyGen_1_1Kern.html#adebb59c64a68195f2b62318ecc22d280" title="psyclone.psyGen.Kern.ast" alt="" coords="656,2547,832,2574"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af4a7adfaba0ccbab1a0aea76fefc7f7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOKern.gen_data_on_ocl_device </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate code to create data buffers on OpenCL device.

:param parent: Parent subroutine in f2pygen AST of generated code.
:type parent: :py:class:`psyclone.f2pygen.SubroutineGen`
</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l01073">1073</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01073"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af4a7adfaba0ccbab1a0aea76fefc7f7c"> 1073</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af4a7adfaba0ccbab1a0aea76fefc7f7c">gen_data_on_ocl_device</a>(self, parent):</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="stringliteral">        Generate code to create data buffers on OpenCL device.</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="stringliteral">        :param parent: Parent subroutine in f2pygen AST of generated code.</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="stringliteral">        :type parent: :py:class:`psyclone.f2pygen.SubroutineGen`</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keyword">from</span> <a class="code" href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a> <span class="keyword">import</span> UseGen, CommentGen, IfThenGen, DeclGen, \</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            AssignGen</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        grid_arg = self._arguments.find_grid_access()</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        <span class="comment"># Ensure the fields required by this kernel are on device. We must</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="comment"># create the buffers for them if they&#39;re not.</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        parent.add(UseGen(parent, name=<span class="stringliteral">&quot;fortcl&quot;</span>, only=<span class="keyword">True</span>,</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                          funcnames=[<span class="stringliteral">&quot;create_rw_buffer&quot;</span>]))</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        parent.add(CommentGen(parent, <span class="stringliteral">&quot; Ensure field data is on device&quot;</span>))</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> self._arguments.args:</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            <span class="keywordflow">if</span> arg.type == <span class="stringliteral">&quot;field&quot;</span> <span class="keywordflow">or</span> arg.type == <span class="stringliteral">&quot;grid_property&quot;</span>:</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                <span class="keywordflow">if</span> arg.type == <span class="stringliteral">&quot;field&quot;</span>:</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                    <span class="comment"># fields have a &#39;data_on_device&#39; property for keeping</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                    <span class="comment"># track of whether they are on the device</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                    condition = <span class="stringliteral">&quot;.NOT. {0}%data_on_device&quot;</span>.format(arg.name)</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    device_buff = <span class="stringliteral">&quot;{0}%device_ptr&quot;</span>.format(arg.name)</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                    host_buff = <span class="stringliteral">&quot;{0}%data&quot;</span>.format(arg.name)</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                    <span class="comment"># grid properties do not have such an attribute (because</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                    <span class="comment"># they are just arrays) so we check whether the device</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                    <span class="comment"># pointer is NULL.</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                    device_buff = <span class="stringliteral">&quot;{0}%grid%{1}_device&quot;</span>.format(grid_arg.name,</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                                                               arg.name)</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                    condition = device_buff + <span class="stringliteral">&quot; == 0&quot;</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                    host_buff = <span class="stringliteral">&quot;{0}%grid%{1}&quot;</span>.format(grid_arg.name, arg.name)</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <span class="comment"># Name of variable to hold no. of bytes of storage required</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                nbytes = self._name_space_manager.create_name(</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                    root_name=<span class="stringliteral">&quot;size_in_bytes&quot;</span>, context=<span class="stringliteral">&quot;PSyVars&quot;</span>,</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                    label=<span class="stringliteral">&quot;size_in_bytes&quot;</span>)</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                <span class="comment"># Variable to hold write event returned by OpenCL runtime</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                wevent = self._name_space_manager.create_name(</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                    root_name=<span class="stringliteral">&quot;write_event&quot;</span>, context=<span class="stringliteral">&quot;PSyVars&quot;</span>,</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                    label=<span class="stringliteral">&quot;write_event&quot;</span>)</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                ifthen = IfThenGen(parent, condition)</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                parent.add(ifthen)</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                parent.add(DeclGen(parent, datatype=<span class="stringliteral">&quot;integer&quot;</span>, kind=<span class="stringliteral">&quot;c_size_t&quot;</span>,</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                   entity_decls=[nbytes]))</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                parent.add(DeclGen(parent, datatype=<span class="stringliteral">&quot;integer&quot;</span>,</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                                   kind=<span class="stringliteral">&quot;c_intptr_t&quot;</span>, target=<span class="keyword">True</span>,</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                   entity_decls=[wevent]))</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                <span class="comment"># Use c_sizeof() on first element of array to be copied over in</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                <span class="comment"># order to cope with the fact that some grid properties are</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                <span class="comment"># integer.</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                size_expr = (<span class="stringliteral">&quot;int({0}%grid%nx*{0}%grid%ny, 8)*c_sizeof(&quot;</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                             <span class="stringliteral">&quot;{1}(1,1))&quot;</span>.format(grid_arg.name, host_buff))</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                ifthen.add(AssignGen(ifthen, lhs=nbytes, rhs=size_expr))</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                ifthen.add(CommentGen(ifthen, <span class="stringliteral">&quot; Create buffer on device&quot;</span>))</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <span class="comment"># Get the name of the list of command queues (set in</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                <span class="comment"># psyGen.Schedule)</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                qlist = self._name_space_manager.create_name(</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                    root_name=<span class="stringliteral">&quot;cmd_queues&quot;</span>, context=<span class="stringliteral">&quot;PSyVars&quot;</span>,</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                    label=<span class="stringliteral">&quot;cmd_queues&quot;</span>)</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                flag = self._name_space_manager.create_name(</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                    root_name=<span class="stringliteral">&quot;ierr&quot;</span>, context=<span class="stringliteral">&quot;PSyVars&quot;</span>, label=<span class="stringliteral">&quot;ierr&quot;</span>)</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                ifthen.add(AssignGen(ifthen, lhs=device_buff,</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                                     rhs=<span class="stringliteral">&quot;create_rw_buffer(&quot;</span> + nbytes + <span class="stringliteral">&quot;)&quot;</span>))</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                ifthen.add(</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                    AssignGen(ifthen, lhs=flag,</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                              rhs=<span class="stringliteral">&quot;clEnqueueWriteBuffer({0}(1), {1}, CL_TRUE, &quot;</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                              <span class="stringliteral">&quot;0_8, {2}, C_LOC({3}), 0, C_NULL_PTR, &quot;</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                              <span class="stringliteral">&quot;C_LOC({4}))&quot;</span>.format(qlist, device_buff,</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                                                   nbytes, host_buff, wevent)))</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                <span class="keywordflow">if</span> arg.type == <span class="stringliteral">&quot;field&quot;</span>:</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                    ifthen.add(AssignGen(</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                        ifthen, lhs=<span class="stringliteral">&quot;{0}%data_on_device&quot;</span>.format(arg.name),</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                        rhs=<span class="stringliteral">&quot;.true.&quot;</span>))</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="comment"># Ensure data copies have finished</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        parent.add(CommentGen(parent,</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                              <span class="stringliteral">&quot; Block until data copies have finished&quot;</span>))</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        parent.add(AssignGen(parent, lhs=flag,</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                             rhs=<span class="stringliteral">&quot;clFinish(&quot;</span> + qlist + <span class="stringliteral">&quot;(1))&quot;</span>))</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_af4a7adfaba0ccbab1a0aea76fefc7f7c"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af4a7adfaba0ccbab1a0aea76fefc7f7c">psyclone.gocean1p0.GOKern.gen_data_on_ocl_device</a></div><div class="ttdeci">def gen_data_on_ocl_device(self, parent)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01073">gocean1p0.py:1073</a></div></div>
<div class="ttc" id="namespacepsyclone_1_1f2pygen_html"><div class="ttname"><a href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a></div><div class="ttdef"><b>Definition:</b> <a href="f2pygen_8py_source.html#l00001">f2pygen.py:1</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af45ecb5408c93e52bf5a226a2b59850e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOKern.gen_ocl </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generates code for the OpenCL invocation of this kernel.

:param parent: Parent node in the f2pygen AST to which to add content.
:type parent: :py:class:`psyclone.f2pygen.SubroutineGen`
</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l00932">932</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="expression_8py_source.html#l00205">psyclone.expression.NamedArg._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l00491">psyclone.dynamo0p3.DynFuncDescriptor03._name</a>, <a class="el" href="gocean1p0_8py_source.html#l00880">psyclone.gocean1p0.GOKern._name</a>, <a class="el" href="dynamo0p3_8py_source.html#l07039">psyclone.dynamo0p3.DynStencil._name</a>, <a class="el" href="gocean1p0_8py_source.html#l01073">psyclone.gocean1p0.GOKern.gen_data_on_ocl_device()</a>, <a class="el" href="expression_8py_source.html#l00139">psyclone.expression.FunctionVar.name</a>, <a class="el" href="transformations_8py_source.html#l00156">psyclone.transformations.LoopFuseTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l00235">psyclone.transformations.GOceanLoopFuseTrans.name()</a>, <a class="el" href="expression_8py_source.html#l00247">psyclone.expression.NamedArg.name()</a>, <a class="el" href="transformations_8py_source.html#l00282">psyclone.transformations.DynamoLoopFuseTrans.name()</a>, <a class="el" href="psyGen_8py_source.html#l00320">psyclone.psyGen.PSy.name()</a>, <a class="el" href="transformations_8py_source.html#l00394">psyclone.transformations.ParallelLoopTrans.name()</a>, <a class="el" href="parse_8py_source.html#l00448">psyclone.parse.KernelProcedure.name()</a>, <a class="el" href="transformations_8py_source.html#l00587">psyclone.transformations.OMPLoopTrans.name()</a>, <a class="el" href="parse_8py_source.html#l00628">psyclone.parse.KernelType.name()</a>, <a class="el" href="psyGen_8py_source.html#l00643">psyclone.psyGen.Invoke.name()</a>, <a class="el" href="transformations_8py_source.html#l00738">psyclone.transformations.ACCLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l00837">psyclone.transformations.OMPParallelLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l00918">psyclone.transformations.DynamoOMPParallelLoopTrans.name()</a>, <a class="el" href="parse_8py_source.html#l00920">psyclone.parse.InvokeCall.name()</a>, <a class="el" href="parse_8py_source.html#l00936">psyclone.parse.FileInfo.name()</a>, <a class="el" href="transformations_8py_source.html#l00966">psyclone.transformations.GOceanOMPParallelLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01004">psyclone.transformations.Dynamo0p3OMPLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01054">psyclone.transformations.GOceanOMPLoopTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01107">psyclone.transformations.ColourTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01203">psyclone.transformations.KernelModuleInlineTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01304">psyclone.transformations.Dynamo0p3ColourTrans.name()</a>, <a class="el" href="dynamo0p3_8py_source.html#l01337">psyclone.dynamo0p3.DynamoPSy.name()</a>, <a class="el" href="transformations_8py_source.html#l01379">psyclone.transformations.ParallelRegionTrans.name()</a>, <a class="el" href="gocean1p0_8py_source.html#l01387">psyclone.gocean1p0.GOKernelGridArgument.name()</a>, <a class="el" href="transformations_8py_source.html#l01534">psyclone.transformations.OMPParallelTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01598">psyclone.transformations.ACCParallelTrans.name()</a>, <a class="el" href="gocean1p0_8py_source.html#l01609">psyclone.gocean1p0.GOStencil.name()</a>, <a class="el" href="transformations_8py_source.html#l01672">psyclone.transformations.GOConstLoopBoundsTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01728">psyclone.transformations.MoveTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l01805">psyclone.transformations.Dynamo0p3RedundantComputationTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02049">psyclone.transformations.GOLoopSwapTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02162">psyclone.transformations.OCLTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02253">psyclone.transformations.ProfileRegionTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02350">psyclone.transformations.Dynamo0p3AsyncHaloExchangeTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02446">psyclone.transformations.ACCDataTrans.name()</a>, <a class="el" href="transformations_8py_source.html#l02524">psyclone.transformations.ACCRoutineTrans.name()</a>, <a class="el" href="psyGen_8py_source.html#l03152">psyclone.psyGen.Call.name()</a>, <a class="el" href="psyGen_8py_source.html#l03570">psyclone.psyGen.Kern.name</a>, <a class="el" href="psyGen_8py_source.html#l03934">psyclone.psyGen.Argument.name()</a>, <a class="el" href="psyGen_8py_source.html#l04327">psyclone.psyGen.Transformation.name()</a>, and <a class="el" href="psyGen_8py_source.html#l04362">psyclone.psyGen.DummyTransformation.name()</a>.</p>
<div class="fragment"><div class="line"><a name="l00932"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af45ecb5408c93e52bf5a226a2b59850e">  932</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af45ecb5408c93e52bf5a226a2b59850e">gen_ocl</a>(self, parent):</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="stringliteral">        Generates code for the OpenCL invocation of this kernel.</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;<span class="stringliteral">        :param parent: Parent node in the f2pygen AST to which to add content.</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="stringliteral">        :type parent: :py:class:`psyclone.f2pygen.SubroutineGen`</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keyword">from</span> <a class="code" href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a> <span class="keyword">import</span> CallGen, DeclGen, AssignGen, CommentGen</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        <span class="comment"># Create the array used to specify the iteration space of the kernel</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        garg = self._arguments.find_grid_access()</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        glob_size = self._name_space_manager.create_name(</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            root_name=<span class="stringliteral">&quot;globalsize&quot;</span>, context=<span class="stringliteral">&quot;PSyVars&quot;</span>, label=<span class="stringliteral">&quot;globalsize&quot;</span>)</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        parent.add(DeclGen(parent, datatype=<span class="stringliteral">&quot;integer&quot;</span>, target=<span class="keyword">True</span>,</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                           kind=<span class="stringliteral">&quot;c_size_t&quot;</span>, entity_decls=[glob_size + <span class="stringliteral">&quot;(2)&quot;</span>]))</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        parent.add(AssignGen(</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            parent, lhs=glob_size,</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;            rhs=<span class="stringliteral">&quot;(/{0}%grid%nx, {0}%grid%ny/)&quot;</span>.format(garg.name)))</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        base = <span class="stringliteral">&quot;kernel_&quot;</span> + self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab2a5014a3dcf25418c56386ad910e0cb">_name</a></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        kernel = self._name_space_manager.create_name(root_name=base,</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                                                      context=<span class="stringliteral">&quot;PSyVars&quot;</span>,</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                                                      label=base)</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="comment"># Generate code to ensure data is on device</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af4a7adfaba0ccbab1a0aea76fefc7f7c">gen_data_on_ocl_device</a>(parent)</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="comment"># Then we set the kernel arguments</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        arguments = [kernel, garg.name+<span class="stringliteral">&quot;%grid%nx&quot;</span>]</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> self._arguments.args:</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <span class="keywordflow">if</span> arg.type == <span class="stringliteral">&quot;scalar&quot;</span>:</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                arguments.append(arg.name)</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="keywordflow">elif</span> arg.type == <span class="stringliteral">&quot;field&quot;</span>:</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                arguments.append(arg.name + <span class="stringliteral">&quot;%device_ptr&quot;</span>)</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            <span class="keywordflow">elif</span> arg.type == <span class="stringliteral">&quot;grid_property&quot;</span>:</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                <span class="comment"># TODO (dl_esm_inf/#18) the dl_esm_inf library stores</span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                <span class="comment"># the pointers to device memory for grid properties in</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                <span class="comment"># &quot;&lt;grid-prop-name&gt;_device&quot; which is a bit hacky but</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                <span class="comment"># works for now.</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                arguments.append(garg.name+<span class="stringliteral">&quot;%grid%&quot;</span>+arg.name+<span class="stringliteral">&quot;_device&quot;</span>)</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        sub_name = self._name_space_manager.create_name(</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            root_name=self.name+<span class="stringliteral">&quot;_set_args&quot;</span>, context=self.name+<span class="stringliteral">&quot;ArgSetter&quot;</span>,</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            label=self.name+<span class="stringliteral">&quot;_set_args&quot;</span>)</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        parent.add(CallGen(parent, sub_name, arguments))</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        <span class="comment"># Get the name of the list of command queues (set in</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="comment"># psyGen.Schedule)</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        qlist = self._name_space_manager.create_name(</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;            root_name=<span class="stringliteral">&quot;cmd_queues&quot;</span>, context=<span class="stringliteral">&quot;PSyVars&quot;</span>, label=<span class="stringliteral">&quot;cmd_queues&quot;</span>)</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        flag = self._name_space_manager.create_name(</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            root_name=<span class="stringliteral">&quot;ierr&quot;</span>, context=<span class="stringliteral">&quot;PSyVars&quot;</span>, label=<span class="stringliteral">&quot;ierr&quot;</span>)</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="comment"># Then we call clEnqueueNDRangeKernel</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        parent.add(CommentGen(parent, <span class="stringliteral">&quot; Launch the kernel&quot;</span>))</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        cnull = <span class="stringliteral">&quot;C_NULL_PTR&quot;</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        cmd_queue = qlist + <span class="stringliteral">&quot;(1)&quot;</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        args = <span class="stringliteral">&quot;, &quot;</span>.join([cmd_queue, kernel, <span class="stringliteral">&quot;2&quot;</span>, cnull,</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                          <span class="stringliteral">&quot;C_LOC({0})&quot;</span>.format(glob_size),</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                          cnull, <span class="stringliteral">&quot;0&quot;</span>, cnull, cnull])</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        parent.add(AssignGen(parent, lhs=flag,</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                             rhs=<span class="stringliteral">&quot;clEnqueueNDRangeKernel({0})&quot;</span>.format(args)))</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        parent.add(CommentGen(parent, <span class="stringliteral">&quot;&quot;</span>))</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_ab2a5014a3dcf25418c56386ad910e0cb"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab2a5014a3dcf25418c56386ad910e0cb">psyclone.gocean1p0.GOKern._name</a></div><div class="ttdeci">_name</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00880">gocean1p0.py:880</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_af45ecb5408c93e52bf5a226a2b59850e"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af45ecb5408c93e52bf5a226a2b59850e">psyclone.gocean1p0.GOKern.gen_ocl</a></div><div class="ttdeci">def gen_ocl(self, parent)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00932">gocean1p0.py:932</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_af4a7adfaba0ccbab1a0aea76fefc7f7c"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af4a7adfaba0ccbab1a0aea76fefc7f7c">psyclone.gocean1p0.GOKern.gen_data_on_ocl_device</a></div><div class="ttdeci">def gen_data_on_ocl_device(self, parent)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l01073">gocean1p0.py:1073</a></div></div>
<div class="ttc" id="namespacepsyclone_1_1f2pygen_html"><div class="ttname"><a href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a></div><div class="ttdef"><b>Definition:</b> <a href="f2pygen_8py_source.html#l00001">f2pygen.py:1</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1gocean1p0_1_1GOKern_af45ecb5408c93e52bf5a226a2b59850e_cgraph.png" border="0" usemap="#classpsyclone_1_1gocean1p0_1_1GOKern_af45ecb5408c93e52bf5a226a2b59850e_cgraph" alt=""/></div>
<map name="classpsyclone_1_1gocean1p0_1_1GOKern_af45ecb5408c93e52bf5a226a2b59850e_cgraph" id="classpsyclone_1_1gocean1p0_1_1GOKern_af45ecb5408c93e52bf5a226a2b59850e_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#af4a7adfaba0ccbab1a0aea76fefc7f7c" title="psyclone.gocean1p0.GOKern.gen\l_data_on_ocl_device" alt="" coords="335,5,553,47"/>
<area shape="rect" id="node3" href="classpsyclone_1_1transformations_1_1LoopFuseTrans.html#a60f2aef477f5404e6d6f95ce3b9419b0" title="psyclone.transformations.\lLoopFuseTrans.name" alt="" coords="358,71,530,112"/>
<area shape="rect" id="node4" href="classpsyclone_1_1transformations_1_1GOceanLoopFuseTrans.html#a934f2a73b8a8b1c36c5d9b68f6f2ca9d" title="psyclone.transformations.\lGOceanLoopFuseTrans.name" alt="" coords="346,136,542,177"/>
<area shape="rect" id="node5" href="classpsyclone_1_1expression_1_1NamedArg.html#ac4cb9d183a023788a9e5cb85a4899206" title="psyclone.expression.Named\lArg.name" alt="" coords="673,196,860,237"/>
<area shape="rect" id="node6" href="classpsyclone_1_1transformations_1_1DynamoLoopFuseTrans.html#a3fa1e29fcda7f2609ef729350f18486d" title="psyclone.transformations.\lDynamoLoopFuseTrans.name" alt="" coords="345,928,543,969"/>
<area shape="rect" id="node7" href="classpsyclone_1_1psyGen_1_1PSy.html#a37f45fcc08001b7910dbad5265805655" title="psyclone.psyGen.PSy.name" alt="" coords="673,262,861,289"/>
<area shape="rect" id="node8" href="classpsyclone_1_1transformations_1_1ParallelLoopTrans.html#abace2e3bf52fbcf4eae4aa122d4bae6b" title="psyclone.transformations.\lParallelLoopTrans.name" alt="" coords="358,993,530,1035"/>
<area shape="rect" id="node9" href="classpsyclone_1_1parse_1_1KernelProcedure.html#a8c0311b352ec24eb070e5011ca0a381c" title="psyclone.parse.KernelProcedure.name" alt="" coords="643,313,890,339"/>
<area shape="rect" id="node10" href="classpsyclone_1_1transformations_1_1OMPLoopTrans.html#a219145cd3d848ae21ebfb0b09db0c66d" title="psyclone.transformations.\lOMPLoopTrans.name" alt="" coords="358,1059,530,1100"/>
<area shape="rect" id="node11" href="classpsyclone_1_1parse_1_1KernelType.html#aae575d92f86e6ec52cea59d3861641d4" title="psyclone.parse.KernelType.name" alt="" coords="659,363,875,390"/>
<area shape="rect" id="node12" href="classpsyclone_1_1psyGen_1_1Invoke.html#ab6699fa93b458cffc4fa3874e0de2e1b" title="psyclone.psyGen.Invoke.name" alt="" coords="665,414,868,441"/>
<area shape="rect" id="node13" href="classpsyclone_1_1transformations_1_1ACCLoopTrans.html#af100dd31a901242dbe55306f8c3eb95a" title="psyclone.transformations.\lACCLoopTrans.name" alt="" coords="358,1124,530,1165"/>
<area shape="rect" id="node14" href="classpsyclone_1_1transformations_1_1OMPParallelLoopTrans.html#a430f00409923ce8d65f2c09f2904ebe7" title="psyclone.transformations.\lOMPParallelLoopTrans.name" alt="" coords="348,557,540,599"/>
<area shape="rect" id="node15" href="classpsyclone_1_1dynamo0p3_1_1DynamoPSy.html#a141020148f72afddde684416b8dde610" title="psyclone.dynamo0p3.Dynamo\lPSy.name" alt="" coords="667,467,866,508"/>
<area shape="rect" id="node16" href="classpsyclone_1_1gocean1p0_1_1GOKernelGridArgument.html#afa1becc18e248912b340da32ae64e299" title="psyclone.gocean1p0.GOKernel\lGridArgument.name" alt="" coords="665,533,868,575"/>
<area shape="rect" id="node17" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a800748aca0ce297d84e04a80e6e6c25e" title="psyclone.gocean1p0.GOStencil.name" alt="" coords="646,603,887,630"/>
<area shape="rect" id="node19" href="classpsyclone_1_1parse_1_1InvokeCall.html#af84d250c83359ef22f462ebebb14bda1" title="psyclone.parse.InvokeCall.name" alt="" coords="661,661,873,687"/>
<area shape="rect" id="node20" href="classpsyclone_1_1parse_1_1FileInfo.html#aa6ece28a0fa90fd87f88e40671f500f0" title="psyclone.parse.FileInfo.name" alt="" coords="670,725,863,751"/>
<area shape="rect" id="node21" href="classpsyclone_1_1psyGen_1_1Call.html#ab6cd89a828dd1d73bbde86983f1e15a2" title="psyclone.psyGen.Call.name" alt="" coords="673,775,860,802"/>
<area shape="rect" id="node22" href="classpsyclone_1_1psyGen_1_1Argument.html#ae323e3ade62495a47a1cf17e7b07aff2" title="psyclone.psyGen.Argument.name" alt="" coords="657,826,876,853"/>
<area shape="rect" id="node23" href="classpsyclone_1_1psyGen_1_1Transformation.html#a8f2f8d3c3a034a7e7c4ab7484364a058" title="psyclone.psyGen.Transformation.name" alt="" coords="641,877,892,903"/>
<area shape="rect" id="node24" href="classpsyclone_1_1transformations_1_1DynamoOMPParallelLoopTrans.html#a1b09d40652901a9c7ed7da856bae9f1b" title="psyclone.transformations.\lDynamoOMPParallelLoopTrans.name" alt="" coords="323,1189,565,1231"/>
<area shape="rect" id="node25" href="classpsyclone_1_1transformations_1_1GOceanOMPParallelLoopTrans.html#a5c250dfb2df40e31ce582561a74bdf71" title="psyclone.transformations.\lGOceanOMPParallelLoopTrans.name" alt="" coords="324,1255,564,1296"/>
<area shape="rect" id="node26" href="classpsyclone_1_1transformations_1_1Dynamo0p3OMPLoopTrans.html#af2d3ef0d707615e053a960883e933cde" title="psyclone.transformations.\lDynamo0p3OMPLoopTrans.name" alt="" coords="335,1320,553,1361"/>
<area shape="rect" id="node27" href="classpsyclone_1_1transformations_1_1GOceanOMPLoopTrans.html#ab9e69651129d13689e0f2e2f45e21690" title="psyclone.transformations.\lGOceanOMPLoopTrans.name" alt="" coords="345,1385,543,1427"/>
<area shape="rect" id="node28" href="classpsyclone_1_1transformations_1_1ColourTrans.html#a7df308ccb7e39848c0988d7cde6b7697" title="psyclone.transformations.\lColourTrans.name" alt="" coords="358,1451,530,1492"/>
<area shape="rect" id="node29" href="classpsyclone_1_1transformations_1_1KernelModuleInlineTrans.html#ad41627af65faa57b3d551a7ea88d3d21" title="psyclone.transformations.\lKernelModuleInlineTrans.name" alt="" coords="343,1516,545,1557"/>
<area shape="rect" id="node30" href="classpsyclone_1_1transformations_1_1Dynamo0p3ColourTrans.html#a278fdc5478463c9c38c80b4ed9b5fec5" title="psyclone.transformations.\lDynamo0p3ColourTrans.name" alt="" coords="345,1581,543,1623"/>
<area shape="rect" id="node31" href="classpsyclone_1_1transformations_1_1ParallelRegionTrans.html#acb06df17fd4b2fc7e59240552084f713" title="psyclone.transformations.\lParallelRegionTrans.name" alt="" coords="357,1647,531,1688"/>
<area shape="rect" id="node32" href="classpsyclone_1_1transformations_1_1OMPParallelTrans.html#aeb9202804d7900597467d64b7aaf9b10" title="psyclone.transformations.\lOMPParallelTrans.name" alt="" coords="358,1712,530,1753"/>
<area shape="rect" id="node33" href="classpsyclone_1_1transformations_1_1ACCParallelTrans.html#ac48b1fcb5810c75954fb00cc981af7bc" title="psyclone.transformations.\lACCParallelTrans.name" alt="" coords="358,1777,530,1819"/>
<area shape="rect" id="node34" href="classpsyclone_1_1transformations_1_1GOConstLoopBoundsTrans.html#a4d7673cf744a37aefd5aff2420d0e22d" title="psyclone.transformations.\lGOConstLoopBoundsTrans.name" alt="" coords="335,1843,553,1884"/>
<area shape="rect" id="node35" href="classpsyclone_1_1transformations_1_1MoveTrans.html#aa81d30527e71b783115e41f5a618575c" title="psyclone.transformations.\lMoveTrans.name" alt="" coords="358,1908,530,1949"/>
<area shape="rect" id="node36" href="classpsyclone_1_1transformations_1_1Dynamo0p3RedundantComputationTrans.html#a2f602c4362189efe0609a08db35fbe97" title="psyclone.transformations.\lDynamo0p3RedundantComputationTrans.name" alt="" coords="295,1973,593,2015"/>
<area shape="rect" id="node37" href="classpsyclone_1_1transformations_1_1GOLoopSwapTrans.html#a87d7c2a18100a987b1e34ba3fe259913" title="psyclone.transformations.\lGOLoopSwapTrans.name" alt="" coords="358,2039,530,2080"/>
<area shape="rect" id="node38" href="classpsyclone_1_1transformations_1_1OCLTrans.html#a7fa2de87bc354dabb547078347fff723" title="psyclone.transformations.\lOCLTrans.name" alt="" coords="358,2104,530,2145"/>
<area shape="rect" id="node39" href="classpsyclone_1_1transformations_1_1ProfileRegionTrans.html#a7170cc8864860e6b3ced2065e3c669a3" title="psyclone.transformations.\lProfileRegionTrans.name" alt="" coords="358,2169,530,2211"/>
<area shape="rect" id="node40" href="classpsyclone_1_1transformations_1_1Dynamo0p3AsyncHaloExchangeTrans.html#afdf4c065c3d8249f852ee55edfae8798" title="psyclone.transformations.\lDynamo0p3AsyncHaloExchangeTrans.name" alt="" coords="303,2235,585,2276"/>
<area shape="rect" id="node41" href="classpsyclone_1_1transformations_1_1ACCDataTrans.html#a25aa1c44dac98e793d3a7f8892acdb31" title="psyclone.transformations.\lACCDataTrans.name" alt="" coords="358,2300,530,2341"/>
<area shape="rect" id="node42" href="classpsyclone_1_1transformations_1_1ACCRoutineTrans.html#a5d406059da780e0f76057a808de80480" title="psyclone.transformations.\lACCRoutineTrans.name" alt="" coords="358,2365,530,2407"/>
<area shape="rect" id="node43" href="classpsyclone_1_1psyGen_1_1DummyTransformation.html#a18ce14fdcd6ec1039d538b1d54af4ed2" title="psyclone.psyGen.DummyTransformation.name" alt="" coords="296,2431,592,2458"/>
<area shape="rect" id="node18" href="classpsyclone_1_1gocean1p0_1_1GOStencil.html#a5811b0a9523e45040bd56ec00a452733" title="psyclone.gocean1p0.GOStencil.\l_check_init" alt="" coords="940,596,1149,637"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1210a9a231b287d1b96e16aa9076b1d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOKern.index_offset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The grid index-offset convention that this kernel expects </pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l00995">995</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="gocean1p0_8py_source.html#l00881">psyclone.gocean1p0.GOKern._index_offset</a>.</p>
<div class="fragment"><div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a1210a9a231b287d1b96e16aa9076b1d6">  995</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a1210a9a231b287d1b96e16aa9076b1d6">index_offset</a>(self):</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; The grid index-offset convention that this kernel expects &#39;&#39;&#39;</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a2897164dfc7d5d835768f3b6e9331561">_index_offset</a></div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a2897164dfc7d5d835768f3b6e9331561"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a2897164dfc7d5d835768f3b6e9331561">psyclone.gocean1p0.GOKern._index_offset</a></div><div class="ttdeci">_index_offset</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00881">gocean1p0.py:881</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a1210a9a231b287d1b96e16aa9076b1d6"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a1210a9a231b287d1b96e16aa9076b1d6">psyclone.gocean1p0.GOKern.index_offset</a></div><div class="ttdeci">def index_offset(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00995">gocean1p0.py:995</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9ad1ee8365c96c0d3c9a9ec12f2dfb46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOKern.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Populate the state of this GOKern object </pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l00885">885</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>

<p>References <a class="el" href="gocean1p0_8py_source.html#l00881">psyclone.gocean1p0.GOKern._index_offset</a>.</p>
<div class="fragment"><div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a9ad1ee8365c96c0d3c9a9ec12f2dfb46">  885</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a9ad1ee8365c96c0d3c9a9ec12f2dfb46">load</a>(self, call, parent=None):</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Populate the state of this GOKern object &#39;&#39;&#39;</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        Kern.__init__(self, GOKernelArguments, call, parent, check=<span class="keyword">False</span>)</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="comment"># Pull out the grid index-offset that this kernel expects and</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="comment"># store it here. This is used to check that all of the kernels</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="comment"># invoked by an application are using compatible index offsets.</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        self.<a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a2897164dfc7d5d835768f3b6e9331561">_index_offset</a> = call.ktype.index_offset</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a9ad1ee8365c96c0d3c9a9ec12f2dfb46"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a9ad1ee8365c96c0d3c9a9ec12f2dfb46">psyclone.gocean1p0.GOKern.load</a></div><div class="ttdeci">def load(self, call, parent=None)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00885">gocean1p0.py:885</a></div></div>
<div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_a2897164dfc7d5d835768f3b6e9331561"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#a2897164dfc7d5d835768f3b6e9331561">psyclone.gocean1p0.GOKern._index_offset</a></div><div class="ttdeci">_index_offset</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00881">gocean1p0.py:881</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3f0520d54487c784574689e34f0cb8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.gocean1p0.GOKern.local_vars </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a list of the variable (names) that are local to this loop
(and must therefore be e.g. threadprivate if doing OpenMP)</pre> 
<p>Definition at line <a class="el" href="gocean1p0_8py_source.html#l00894">894</a> of file <a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00894"></a><span class="lineno"><a class="line" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab3f0520d54487c784574689e34f0cb8c">  894</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab3f0520d54487c784574689e34f0cb8c">local_vars</a>(self):</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Return a list of the variable (names) that are local to this loop</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="stringliteral">        (and must therefore be e.g. threadprivate if doing OpenMP)</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <span class="keywordflow">return</span> []</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="ttc" id="classpsyclone_1_1gocean1p0_1_1GOKern_html_ab3f0520d54487c784574689e34f0cb8c"><div class="ttname"><a href="classpsyclone_1_1gocean1p0_1_1GOKern.html#ab3f0520d54487c784574689e34f0cb8c">psyclone.gocean1p0.GOKern.local_vars</a></div><div class="ttdeci">def local_vars(self)</div><div class="ttdef"><b>Definition:</b> <a href="gocean1p0_8py_source.html#l00894">gocean1p0.py:894</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/psyclone/<a class="el" href="gocean1p0_8py_source.html">gocean1p0.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>psyclone</b></li><li class="navelem"><b>gocean1p0</b></li><li class="navelem"><a class="el" href="classpsyclone_1_1gocean1p0_1_1GOKern.html">GOKern</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
