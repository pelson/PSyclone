<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PSyclone: psyclone.dynamo0p3.DynHaloExchange Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="psyclone_v1.0_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSyclone
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">psyclone.dynamo0p3.DynHaloExchange Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for psyclone.dynamo0p3.DynHaloExchange:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange__inherit__graph.png" border="0" usemap="#psyclone_8dynamo0p3_8DynHaloExchange_inherit__map" alt="Inheritance graph"/></div>
<map name="psyclone_8dynamo0p3_8DynHaloExchange_inherit__map" id="psyclone_8dynamo0p3_8DynHaloExchange_inherit__map">
<area shape="rect" id="node3" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchangeEnd.html" title="psyclone.dynamo0p3.DynHalo\lExchangeEnd" alt="" coords="5,169,205,211"/>
<area shape="rect" id="node4" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchangeStart.html" title="psyclone.dynamo0p3.DynHalo\lExchangeStart" alt="" coords="229,169,429,211"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for psyclone.dynamo0p3.DynHaloExchange:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange__coll__graph.png" border="0" usemap="#psyclone_8dynamo0p3_8DynHaloExchange_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a85038acf7101ac9d45e88abed1f2a656"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85038acf7101ac9d45e88abed1f2a656"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self, field, check_dirty=True, vector_index=None, parent=None)</td></tr>
<tr class="separator:a85038acf7101ac9d45e88abed1f2a656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e8d1f34c19cd0694cb1babdf070735"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735">required</a> (self)</td></tr>
<tr class="separator:ab6e8d1f34c19cd0694cb1babdf070735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9198f4c1fc7512950865f03951c2a0ca"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a9198f4c1fc7512950865f03951c2a0ca">view</a> (self, indent=0)</td></tr>
<tr class="separator:a9198f4c1fc7512950865f03951c2a0ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f375e975078097400e91c61c82cecf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae6f375e975078097400e91c61c82cecf">gen_code</a> (self, parent)</td></tr>
<tr class="separator:ae6f375e975078097400e91c61c82cecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Dynamo specific halo exchange class which can be added to and
manipulated in, a schedule

:param field: the field that this halo exchange will act on
:type field: :py:class:`psyclone.dynamo0p3.DynKernelArgument`
:param check_dirty: optional argument default True indicating \
whether this halo exchange should be subject to a run-time check \
for clean/dirty halos.
:type check_dirty: bool
:param vector_index: optional vector index (default None) to \
identify which index of a vector field this halo exchange is \
responsible for
:type vector_index: int
:param parent: optional PSyIRe parent node (default None) of this \
object
:type parent: :py:class:`psyclone.psyGen.node`</pre> 
<p>Definition at line <a class="el" href="dynamo0p3_8py_source.html#l03542">3542</a> of file <a class="el" href="dynamo0p3_8py_source.html">dynamo0p3.py</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae6f375e975078097400e91c61c82cecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.dynamo0p3.DynHaloExchange.gen_code </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Dynamo specific code generation for this class.

:param parent: an f2pygen object that will be the parent of \
f2pygen objects created in this method
:type parent: :py:class:`psyclone.f2pygen.BaseGen`</pre> 
<p>Definition at line <a class="el" href="dynamo0p3_8py_source.html#l03856">3856</a> of file <a class="el" href="dynamo0p3_8py_source.html">dynamo0p3.py</a>.</p>

<p>References <a class="el" href="dynamo0p3_8py_source.html#l03593">psyclone.dynamo0p3.DynHaloExchange._compute_halo_depth()</a>, <a class="el" href="dynamo0p3_8py_source.html#l03567">psyclone.dynamo0p3.DynHaloExchange._halo_exchange_name</a>, <a class="el" href="dynamo0p3_8py_source.html#l03674">psyclone.dynamo0p3.DynHaloExchange.required()</a>, and <a class="el" href="psyGen_8py_source.html#l02585">psyclone.psyGen.HaloExchange.vector_index</a>.</p>
<div class="fragment"><div class="line"><a name="l03856"></a><span class="lineno"><a class="line" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae6f375e975078097400e91c61c82cecf"> 3856</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae6f375e975078097400e91c61c82cecf">gen_code</a>(self, parent):</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Dynamo specific code generation for this class.</span></div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;<span class="stringliteral">        :param parent: an f2pygen object that will be the parent of \</span></div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;<span class="stringliteral">        f2pygen objects created in this method</span></div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;<span class="stringliteral">        :type parent: :py:class:`psyclone.f2pygen.BaseGen`</span></div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;        <span class="keyword">from</span> <a class="code" href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a> <span class="keyword">import</span> IfThenGen, CallGen, CommentGen</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;        <span class="keywordflow">if</span> self.vector_index:</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;            ref = <span class="stringliteral">&quot;(&quot;</span> + str(self.vector_index) + <span class="stringliteral">&quot;)&quot;</span></div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;            ref = <span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;        _, known = self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735">required</a>()</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> known:</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;            if_then = IfThenGen(parent, self._field.proxy_name + ref +</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;                                <span class="stringliteral">&quot;%is_dirty(depth=&quot;</span> +</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;                                self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a68f0bca70ce833d95b3388a7dd1377e5">_compute_halo_depth</a>() + <span class="stringliteral">&quot;)&quot;</span>)</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;            parent.add(if_then)</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;            halo_parent = if_then</div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;            halo_parent = parent</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;        halo_parent.add(</div><div class="line"><a name="l03879"></a><span class="lineno"> 3879</span>&#160;            CallGen(</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;                halo_parent, name=self._field.proxy_name + ref +</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;                <span class="stringliteral">&quot;%&quot;</span> + self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a0afb6ca563169f95acdba0f8a94ef06c">_halo_exchange_name</a> +</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;                <span class="stringliteral">&quot;(depth=&quot;</span> + self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a68f0bca70ce833d95b3388a7dd1377e5">_compute_halo_depth</a>() + <span class="stringliteral">&quot;)&quot;</span>))</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;        parent.add(CommentGen(parent, <span class="stringliteral">&quot;&quot;</span>))</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;</div><div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_ab6e8d1f34c19cd0694cb1babdf070735"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735">psyclone.dynamo0p3.DynHaloExchange.required</a></div><div class="ttdeci">def required(self)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03674">dynamo0p3.py:3674</a></div></div>
<div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_ae6f375e975078097400e91c61c82cecf"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae6f375e975078097400e91c61c82cecf">psyclone.dynamo0p3.DynHaloExchange.gen_code</a></div><div class="ttdeci">def gen_code(self, parent)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03856">dynamo0p3.py:3856</a></div></div>
<div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_a68f0bca70ce833d95b3388a7dd1377e5"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a68f0bca70ce833d95b3388a7dd1377e5">psyclone.dynamo0p3.DynHaloExchange._compute_halo_depth</a></div><div class="ttdeci">def _compute_halo_depth(self)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03593">dynamo0p3.py:3593</a></div></div>
<div class="ttc" id="namespacepsyclone_1_1f2pygen_html"><div class="ttname"><a href="namespacepsyclone_1_1f2pygen.html">psyclone.f2pygen</a></div><div class="ttdef"><b>Definition:</b> <a href="f2pygen_8py_source.html#l00001">f2pygen.py:1</a></div></div>
<div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_a0afb6ca563169f95acdba0f8a94ef06c"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a0afb6ca563169f95acdba0f8a94ef06c">psyclone.dynamo0p3.DynHaloExchange._halo_exchange_name</a></div><div class="ttdeci">_halo_exchange_name</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03567">dynamo0p3.py:3567</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_ae6f375e975078097400e91c61c82cecf_cgraph.png" border="0" usemap="#classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_ae6f375e975078097400e91c61c82cecf_cgraph" alt=""/></div>
<map name="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_ae6f375e975078097400e91c61c82cecf_cgraph" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_ae6f375e975078097400e91c61c82cecf_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a68f0bca70ce833d95b3388a7dd1377e5" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_halo_depth" alt="" coords="253,5,464,47"/>
<area shape="rect" id="node3" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735" title="psyclone.dynamo0p3.DynHalo\lExchange.required" alt="" coords="259,71,459,112"/>
<area shape="rect" id="node4" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae39dd06329262fd85c329c304155b141" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_halo\l_read_depth_info" alt="" coords="512,23,712,79"/>
<area shape="rect" id="node5" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a6ca702fbdfcd162db042388a043bcc7d" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_halo\l_write_info" alt="" coords="512,103,712,159"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab6e8d1f34c19cd0694cb1babdf070735"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.dynamo0p3.DynHaloExchange.required </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Determines whether this halo exchange is definitely required (True,
True), might be required (True, False) or is definitely not
required (False, *). The first return argument is used to
decide whether a halo exchange should exist. If it is True
then the halo is required or might be required. If it is False
then the halo exchange is definitely not required. The second
argument is used to specify whether we definitely know that it
is required or are not sure.

Whilst a halo exchange is generally only ever added if it is
required, or if it may be required, this situation can change
if redundant computation transformations are applied. The
first argument can be used to remove such halo exchanges if
required.

When the first argument is True, the second argument can be
used to see if we need to rely on the runtime (set_dirty and
set_clean calls) and therefore add a check_dirty() call around
the halo exchange or whether we definitely know that this halo
exchange is required.

This routine assumes that a stencil size provided via a
variable may take the value 0. If a variables value is
constrained to be 1, or more, then the logic for deciding
whether a halo exchange is definitely required should be
updated. Note, the routine would still be correct as is, it
would just return more unknown results than it should).

:return: Returns (x, y) where x specifies whether this halo \
exchange is (or might be) required - True, or is not required \
- False. If the first tuple item is True then the second \
argument specifies whether we definitely know that we need the \
HaloExchange - True, or are not sure - False.
:rtype: (bool, bool)</pre> 
<p>Definition at line <a class="el" href="dynamo0p3_8py_source.html#l03674">3674</a> of file <a class="el" href="dynamo0p3_8py_source.html">dynamo0p3.py</a>.</p>

<p>References <a class="el" href="dynamo0p3_8py_source.html#l03617">psyclone.dynamo0p3.DynHaloExchange._compute_halo_read_depth_info()</a>, and <a class="el" href="dynamo0p3_8py_source.html#l03652">psyclone.dynamo0p3.DynHaloExchange._compute_halo_write_info()</a>.</p>
<div class="fragment"><div class="line"><a name="l03674"></a><span class="lineno"><a class="line" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735"> 3674</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735">required</a>(self):</div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Determines whether this halo exchange is definitely required (True,</span></div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;<span class="stringliteral">        True), might be required (True, False) or is definitely not</span></div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;<span class="stringliteral">        required (False, *). The first return argument is used to</span></div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;<span class="stringliteral">        decide whether a halo exchange should exist. If it is True</span></div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;<span class="stringliteral">        then the halo is required or might be required. If it is False</span></div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;<span class="stringliteral">        then the halo exchange is definitely not required. The second</span></div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;<span class="stringliteral">        argument is used to specify whether we definitely know that it</span></div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;<span class="stringliteral">        is required or are not sure.</span></div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;<span class="stringliteral">        Whilst a halo exchange is generally only ever added if it is</span></div><div class="line"><a name="l03685"></a><span class="lineno"> 3685</span>&#160;<span class="stringliteral">        required, or if it may be required, this situation can change</span></div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;<span class="stringliteral">        if redundant computation transformations are applied. The</span></div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;<span class="stringliteral">        first argument can be used to remove such halo exchanges if</span></div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;<span class="stringliteral">        required.</span></div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;<span class="stringliteral">        When the first argument is True, the second argument can be</span></div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;<span class="stringliteral">        used to see if we need to rely on the runtime (set_dirty and</span></div><div class="line"><a name="l03692"></a><span class="lineno"> 3692</span>&#160;<span class="stringliteral">        set_clean calls) and therefore add a check_dirty() call around</span></div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;<span class="stringliteral">        the halo exchange or whether we definitely know that this halo</span></div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;<span class="stringliteral">        exchange is required.</span></div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;<span class="stringliteral">        This routine assumes that a stencil size provided via a</span></div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;<span class="stringliteral">        variable may take the value 0. If a variables value is</span></div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;<span class="stringliteral">        constrained to be 1, or more, then the logic for deciding</span></div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;<span class="stringliteral">        whether a halo exchange is definitely required should be</span></div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;<span class="stringliteral">        updated. Note, the routine would still be correct as is, it</span></div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;<span class="stringliteral">        would just return more unknown results than it should).</span></div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;<span class="stringliteral">        :return: Returns (x, y) where x specifies whether this halo \</span></div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;<span class="stringliteral">        exchange is (or might be) required - True, or is not required \</span></div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;<span class="stringliteral">        - False. If the first tuple item is True then the second \</span></div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;<span class="stringliteral">        argument specifies whether we definitely know that we need the \</span></div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;<span class="stringliteral">        HaloExchange - True, or are not sure - False.</span></div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;<span class="stringliteral">        :rtype: (bool, bool)</span></div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;        <span class="comment"># get *aggregated* information about halo reads</span></div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;        required_clean_info = self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae39dd06329262fd85c329c304155b141">_compute_halo_read_depth_info</a>()</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;        <span class="comment"># get information about the halo write</span></div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;        clean_info = self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a6ca702fbdfcd162db042388a043bcc7d">_compute_halo_write_info</a>()</div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;        <span class="comment"># no need to test whether we return at least one read</span></div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;        <span class="comment"># dependency as _compute_halo_read_depth_info() raises an</span></div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        <span class="comment"># exception if none are found</span></div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;</div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;        <span class="keywordflow">if</span> Config.get().api_conf(<span class="stringliteral">&quot;dynamo0.3&quot;</span>).compute_annexed_dofs <span class="keywordflow">and</span> \</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;           len(required_clean_info) == 1 <span class="keywordflow">and</span> \</div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;           required_clean_info[0].annexed_only:</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;            <span class="comment"># We definitely don&#39;t need the halo exchange as we</span></div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;            <span class="comment"># only read annexed dofs and these are always clean as</span></div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;            <span class="comment"># they are computed by default when iterating over</span></div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;            <span class="comment"># dofs and kept up-to-date by redundant computation</span></div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;            <span class="comment"># when iterating over cells.</span></div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;            required = <span class="keyword">False</span></div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;            known = <span class="keyword">True</span>  <span class="comment"># redundant information as it is always known</span></div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;            <span class="keywordflow">return</span> required, known</div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> clean_info:</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;            <span class="comment"># this halo exchange has no previous write dependencies so</span></div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;            <span class="comment"># we do not know the initial state of the halo. This means</span></div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;            <span class="comment"># that we do not know if we need a halo exchange or not</span></div><div class="line"><a name="l03736"></a><span class="lineno"> 3736</span>&#160;            required = <span class="keyword">True</span></div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;            known = <span class="keyword">False</span></div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;            <span class="keywordflow">return</span> required, known</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;</div><div class="line"><a name="l03740"></a><span class="lineno"> 3740</span>&#160;        <span class="keywordflow">if</span> clean_info.max_depth:</div><div class="line"><a name="l03741"></a><span class="lineno"> 3741</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> clean_info.dirty_outer:</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;                <span class="comment"># all of the halo is cleaned by redundant computation</span></div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;                <span class="comment"># so halo exchange is not required</span></div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;                required = <span class="keyword">False</span></div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;                known = <span class="keyword">True</span>  <span class="comment"># redundant information as it is always known</span></div><div class="line"><a name="l03746"></a><span class="lineno"> 3746</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;                <span class="comment"># the last level halo is dirty</span></div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;                <span class="keywordflow">if</span> required_clean_info[0].max_depth:</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;                    <span class="comment"># we know that we need to clean the outermost halo level</span></div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;                    required = <span class="keyword">True</span></div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;                    known = <span class="keyword">True</span></div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;                    <span class="comment"># we don&#39;t know whether the halo exchange is</span></div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;                    <span class="comment"># required or not as the reader reads the halo to</span></div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;                    <span class="comment"># a specified depth but we don&#39;t know the depth</span></div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;                    <span class="comment"># of the halo</span></div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;                    required = <span class="keyword">True</span></div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;                    known = <span class="keyword">False</span></div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;            <span class="keywordflow">return</span> required, known</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;        <span class="comment"># at this point we know that clean_info.max_depth is False</span></div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> clean_info.literal_depth:</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;            <span class="comment"># if literal_depth is 0 then the writer does not</span></div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;            <span class="comment"># redundantly compute so we definitely need the halo</span></div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;            <span class="comment"># exchange</span></div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;            required = <span class="keyword">True</span></div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;            known = <span class="keyword">True</span></div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;            <span class="keywordflow">return</span> required, known</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;</div><div class="line"><a name="l03771"></a><span class="lineno"> 3771</span>&#160;        <span class="keywordflow">if</span> clean_info.literal_depth == 1 <span class="keywordflow">and</span> clean_info.dirty_outer:</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;            <span class="comment"># the writer redundantly computes in the level 1 halo but</span></div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;            <span class="comment"># leaves it dirty (although annexed dofs are now clean).</span></div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;            <span class="keywordflow">if</span> len(required_clean_info) == 1 <span class="keywordflow">and</span> \</div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;               required_clean_info[0].annexed_only:</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;                <span class="comment"># we definitely don&#39;t need the halo exchange as we</span></div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;                <span class="comment"># only read annexed dofs and these have been made</span></div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;                <span class="comment"># clean by the redundant computation</span></div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;                required = <span class="keyword">False</span></div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;                known = <span class="keyword">True</span>  <span class="comment"># redundant information as it is always known</span></div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;                <span class="comment"># we definitely need the halo exchange as the reader(s)</span></div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;                <span class="comment"># require the halo to be clean</span></div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;                required = <span class="keyword">True</span></div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;                known = <span class="keyword">True</span></div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;            <span class="keywordflow">return</span> required, known</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;</div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;        <span class="comment"># At this point we know that the writer cleans the halo to a</span></div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;        <span class="comment"># known (literal) depth through redundant computation. We now</span></div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;        <span class="comment"># compute this value for use by the logic in the rest of the</span></div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;        <span class="comment"># routine.</span></div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;        clean_depth = clean_info.literal_depth</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;        <span class="keywordflow">if</span> clean_info.dirty_outer:</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;            <span class="comment"># outer layer stays dirty</span></div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;            clean_depth -= 1</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;        <span class="comment"># If a literal value in any of the required clean halo depths</span></div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;        <span class="comment"># is greater than the cleaned depth then we definitely need</span></div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;        <span class="comment"># the halo exchange (as any additional variable depth would</span></div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;        <span class="comment"># increase the required depth value). We only look at the case</span></div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;        <span class="comment"># where we have multiple entries as the single entry case is</span></div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;        <span class="comment"># dealt with separately</span></div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;        <span class="keywordflow">if</span> len(required_clean_info) &gt; 1:</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;            <span class="keywordflow">for</span> required_clean <span class="keywordflow">in</span> required_clean_info:</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;                <span class="keywordflow">if</span> required_clean.literal_depth &gt; clean_depth:</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;                    required = <span class="keyword">True</span></div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;                    known = <span class="keyword">True</span></div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;                    <span class="keywordflow">return</span> required, known</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;        <span class="comment"># The only other case where we know that a halo exchange is</span></div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;        <span class="comment"># required (or not) is where we read the halo to a known</span></div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;        <span class="comment"># literal depth. As the read inforation is aggregated, a known</span></div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;        <span class="comment"># literal depth will mean that there is only one</span></div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;        <span class="comment"># required_clean_info entry</span></div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;        <span class="keywordflow">if</span> len(required_clean_info) == 1:</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;            <span class="comment"># the halo might be read to a fixed literal depth</span></div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;            <span class="keywordflow">if</span> required_clean_info[0].var_depth <span class="keywordflow">or</span> \</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;               required_clean_info[0].max_depth:</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;                <span class="comment"># no it isn&#39;t so we might need the halo exchange</span></div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;                required = <span class="keyword">True</span></div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;                known = <span class="keyword">False</span></div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;                <span class="comment"># the halo is read to a fixed literal depth.</span></div><div class="line"><a name="l03824"></a><span class="lineno"> 3824</span>&#160;                required_clean_depth = required_clean_info[0].literal_depth</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;                <span class="keywordflow">if</span> clean_depth &lt; required_clean_depth:</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;                    <span class="comment"># we definitely need this halo exchange</span></div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;                    required = <span class="keyword">True</span></div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;                    known = <span class="keyword">True</span></div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;                    <span class="comment"># we definitely don&#39;t need this halo exchange</span></div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;                    required = <span class="keyword">False</span></div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;                    known = <span class="keyword">True</span>  <span class="comment"># redundant information as it is always known</span></div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;            <span class="keywordflow">return</span> required, known</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;        <span class="comment"># We now know that at least one required_clean entry has a</span></div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;        <span class="comment"># variable depth and any required_clean fixed depths are less</span></div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;        <span class="comment"># than the cleaned depth so we may need a halo exchange.</span></div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;        required = <span class="keyword">True</span></div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;        known = <span class="keyword">False</span></div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;        <span class="keywordflow">return</span> required, known</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;</div><div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_ab6e8d1f34c19cd0694cb1babdf070735"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735">psyclone.dynamo0p3.DynHaloExchange.required</a></div><div class="ttdeci">def required(self)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03674">dynamo0p3.py:3674</a></div></div>
<div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_ae39dd06329262fd85c329c304155b141"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae39dd06329262fd85c329c304155b141">psyclone.dynamo0p3.DynHaloExchange._compute_halo_read_depth_info</a></div><div class="ttdeci">def _compute_halo_read_depth_info(self)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03617">dynamo0p3.py:3617</a></div></div>
<div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_a6ca702fbdfcd162db042388a043bcc7d"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a6ca702fbdfcd162db042388a043bcc7d">psyclone.dynamo0p3.DynHaloExchange._compute_halo_write_info</a></div><div class="ttdeci">def _compute_halo_write_info(self)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03652">dynamo0p3.py:3652</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_ab6e8d1f34c19cd0694cb1babdf070735_cgraph.png" border="0" usemap="#classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_ab6e8d1f34c19cd0694cb1babdf070735_cgraph" alt=""/></div>
<map name="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_ab6e8d1f34c19cd0694cb1babdf070735_cgraph" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_ab6e8d1f34c19cd0694cb1babdf070735_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae39dd06329262fd85c329c304155b141" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_halo\l_read_depth_info" alt="" coords="253,5,453,61"/>
<area shape="rect" id="node3" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a6ca702fbdfcd162db042388a043bcc7d" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_halo\l_write_info" alt="" coords="253,85,453,141"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9198f4c1fc7512950865f03951c2a0ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def psyclone.dynamo0p3.DynHaloExchange.view </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Class specific view  </pre> 
<p>Definition at line <a class="el" href="dynamo0p3_8py_source.html#l03842">3842</a> of file <a class="el" href="dynamo0p3_8py_source.html">dynamo0p3.py</a>.</p>

<p>References <a class="el" href="dynamo0p3_8py_source.html#l03593">psyclone.dynamo0p3.DynHaloExchange._compute_halo_depth()</a>, <a class="el" href="dynamo0p3_8py_source.html#l03569">psyclone.dynamo0p3.DynHaloExchange._compute_stencil_type()</a>, <a class="el" href="profiler_8py_source.html#l00175">psyclone.profiler.ProfileNode.coloured_text()</a>, <a class="el" href="gocean1p0_8py_source.html#l00361">psyclone.gocean1p0.GOSchedule.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l01454">psyclone.psyGen.Schedule.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l01591">psyclone.psyGen.Directive.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l02445">psyclone.psyGen.GlobalSum.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l02608">psyclone.psyGen.HaloExchange.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l02705">psyclone.psyGen.Loop.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l02969">psyclone.psyGen.Call.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l03284">psyclone.psyGen.Kern.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l04384">psyclone.psyGen.IfBlock.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l04419">psyclone.psyGen.IfClause.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l04715">psyclone.psyGen.CodeBlock.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l04752">psyclone.psyGen.Assignment.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l04793">psyclone.psyGen.Reference.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l04831">psyclone.psyGen.BinaryOperation.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l04874">psyclone.psyGen.Array.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l04915">psyclone.psyGen.Literal.coloured_text()</a>, <a class="el" href="psyGen_8py_source.html#l01149">psyclone.psyGen.Node.indent()</a>, <a class="el" href="dynamo0p3_8py_source.html#l03674">psyclone.dynamo0p3.DynHaloExchange.required()</a>, and <a class="el" href="psyGen_8py_source.html#l02585">psyclone.psyGen.HaloExchange.vector_index</a>.</p>
<div class="fragment"><div class="line"><a name="l03842"></a><span class="lineno"><a class="line" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a9198f4c1fc7512950865f03951c2a0ca"> 3842</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a9198f4c1fc7512950865f03951c2a0ca">view</a>(self, indent=0):</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Class specific view  &#39;&#39;&#39;</span></div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;        _, known = self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735">required</a>()</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;        runtime_check = <span class="keywordflow">not</span> known</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;        field_id = self._field.name</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;        <span class="keywordflow">if</span> self.vector_index:</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;            field_id += <span class="stringliteral">&quot;({0})&quot;</span>.format(self.vector_index)</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;        print(self.indent(indent) + (</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;            <span class="stringliteral">&quot;{0}[field=&#39;{1}&#39;, type=&#39;{2}&#39;, depth={3}, &quot;</span></div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;            <span class="stringliteral">&quot;check_dirty={4}]&quot;</span>.format(self.coloured_text, field_id,</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;                                      self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#aaa9f46bc95abf267d196c8e5a1adce17">_compute_stencil_type</a>(),</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;                                      self.<a class="code" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a68f0bca70ce833d95b3388a7dd1377e5">_compute_halo_depth</a>(),</div><div class="line"><a name="l03854"></a><span class="lineno"> 3854</span>&#160;                                      runtime_check)))</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;</div><div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_ab6e8d1f34c19cd0694cb1babdf070735"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735">psyclone.dynamo0p3.DynHaloExchange.required</a></div><div class="ttdeci">def required(self)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03674">dynamo0p3.py:3674</a></div></div>
<div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_aaa9f46bc95abf267d196c8e5a1adce17"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#aaa9f46bc95abf267d196c8e5a1adce17">psyclone.dynamo0p3.DynHaloExchange._compute_stencil_type</a></div><div class="ttdeci">def _compute_stencil_type(self)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03569">dynamo0p3.py:3569</a></div></div>
<div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_a68f0bca70ce833d95b3388a7dd1377e5"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a68f0bca70ce833d95b3388a7dd1377e5">psyclone.dynamo0p3.DynHaloExchange._compute_halo_depth</a></div><div class="ttdeci">def _compute_halo_depth(self)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03593">dynamo0p3.py:3593</a></div></div>
<div class="ttc" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_html_a9198f4c1fc7512950865f03951c2a0ca"><div class="ttname"><a href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a9198f4c1fc7512950865f03951c2a0ca">psyclone.dynamo0p3.DynHaloExchange.view</a></div><div class="ttdeci">def view(self, indent=0)</div><div class="ttdef"><b>Definition:</b> <a href="dynamo0p3_8py_source.html#l03842">dynamo0p3.py:3842</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_a9198f4c1fc7512950865f03951c2a0ca_cgraph.png" border="0" usemap="#classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_a9198f4c1fc7512950865f03951c2a0ca_cgraph" alt=""/></div>
<map name="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_a9198f4c1fc7512950865f03951c2a0ca_cgraph" id="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange_a9198f4c1fc7512950865f03951c2a0ca_cgraph">
<area shape="rect" id="node2" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a68f0bca70ce833d95b3388a7dd1377e5" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_halo_depth" alt="" coords="299,5,510,47"/>
<area shape="rect" id="node3" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#aaa9f46bc95abf267d196c8e5a1adce17" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_stencil_type" alt="" coords="295,71,514,112"/>
<area shape="rect" id="node4" href="classpsyclone_1_1profiler_1_1ProfileNode.html#a8212324d455a3132e22a06ddb9176a83" title="psyclone.profiler.Profile\lNode.coloured_text" alt="" coords="325,136,484,177"/>
<area shape="rect" id="node5" href="classpsyclone_1_1gocean1p0_1_1GOSchedule.html#aa3695c39ec293b1f3b251b5f3575c405" title="psyclone.gocean1p0.GOSchedule.coloured_text" alt="" coords="254,202,555,229"/>
<area shape="rect" id="node6" href="classpsyclone_1_1psyGen_1_1Schedule.html#a4c980b1e53473d1fa3cbe245a9ba975a" title="psyclone.psyGen.Schedule.coloured_text" alt="" coords="273,253,536,279"/>
<area shape="rect" id="node7" href="classpsyclone_1_1psyGen_1_1Directive.html#a77e1d18b1f0588575c40c4d059371f25" title="psyclone.psyGen.Directive.coloured_text" alt="" coords="274,303,535,330"/>
<area shape="rect" id="node8" href="classpsyclone_1_1psyGen_1_1GlobalSum.html#ac59cc483ffee9011e28b047a282e0a6f" title="psyclone.psyGen.GlobalSum.coloured_text" alt="" coords="268,354,541,381"/>
<area shape="rect" id="node9" href="classpsyclone_1_1psyGen_1_1HaloExchange.html#a58f85914489ff44b48540134c1861157" title="psyclone.psyGen.HaloExchange.coloured_text" alt="" coords="257,405,552,431"/>
<area shape="rect" id="node10" href="classpsyclone_1_1psyGen_1_1Loop.html#ac2b3ff6efe721114be68b57c3249a0e3" title="psyclone.psyGen.Loop.coloured_text" alt="" coords="286,455,523,482"/>
<area shape="rect" id="node15" href="classpsyclone_1_1psyGen_1_1Call.html#ac722167f018a1031953c8dc3b31ba7aa" title="psyclone.psyGen.Call.coloured_text" alt="" coords="289,506,521,533"/>
<area shape="rect" id="node17" href="classpsyclone_1_1psyGen_1_1Kern.html#a054be531d76f18363a23d75a604f0b75" title="psyclone.psyGen.Kern.coloured_text" alt="" coords="287,557,523,583"/>
<area shape="rect" id="node18" href="classpsyclone_1_1psyGen_1_1IfBlock.html#a9907fa673829d8f46dbef7c508cf4fe8" title="psyclone.psyGen.IfBlock.coloured_text" alt="" coords="279,607,530,634"/>
<area shape="rect" id="node19" href="classpsyclone_1_1psyGen_1_1IfClause.html#ae339199cac07439589c77ec8ad7e87ec" title="psyclone.psyGen.IfClause.coloured_text" alt="" coords="275,658,534,685"/>
<area shape="rect" id="node20" href="classpsyclone_1_1psyGen_1_1CodeBlock.html#a961c3db3bf1e950e7130671a442c6d2f" title="psyclone.psyGen.CodeBlock.coloured_text" alt="" coords="268,709,541,735"/>
<area shape="rect" id="node21" href="classpsyclone_1_1psyGen_1_1Assignment.html#a82f02b2fcf4141baa4a19f50192414fd" title="psyclone.psyGen.Assignment.coloured_text" alt="" coords="265,759,544,786"/>
<area shape="rect" id="node22" href="classpsyclone_1_1psyGen_1_1Reference.html#adce1b66f97e677bbf5e7847eb82b848b" title="psyclone.psyGen.Reference.coloured_text" alt="" coords="270,810,539,837"/>
<area shape="rect" id="node23" href="classpsyclone_1_1psyGen_1_1BinaryOperation.html#a03ff1e0ed7c7a5ea2fda5b0cdfc950c8" title="psyclone.psyGen.BinaryOperation.coloured_text" alt="" coords="253,861,556,887"/>
<area shape="rect" id="node24" href="classpsyclone_1_1psyGen_1_1Array.html#aa74d234df5afc962ef690789ac8b5aed" title="psyclone.psyGen.Array.coloured_text" alt="" coords="285,911,525,938"/>
<area shape="rect" id="node25" href="classpsyclone_1_1psyGen_1_1Literal.html#a546875941a04b13f1614577074fb7ff9" title="psyclone.psyGen.Literal.coloured_text" alt="" coords="283,962,527,989"/>
<area shape="rect" id="node26" href="classpsyclone_1_1psyGen_1_1Node.html#a26c38a98f54211eb80dae3fe07d64d30" title="psyclone.psyGen.Node.indent" alt="" coords="306,1013,503,1039"/>
<area shape="rect" id="node27" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ab6e8d1f34c19cd0694cb1babdf070735" title="psyclone.dynamo0p3.DynHalo\lExchange.required" alt="" coords="305,1064,505,1105"/>
<area shape="rect" id="node11" href="classpsyclone_1_1f2pygen_1_1BaseGen.html#abf474284cdc997e16fae0cc494eec6a4" title="psyclone.f2pygen.BaseGen.children" alt="" coords="604,397,835,423"/>
<area shape="rect" id="node12" href="classpsyclone_1_1psyGen_1_1Node.html#a16164b7e18b21e72a94cd5da552b58a2" title="psyclone.psyGen.Node.children" alt="" coords="616,346,823,373"/>
<area shape="rect" id="node13" href="classpsyclone_1_1psyGen_1_1Schedule.html#ae7c3faaf97d615076bf4440a1b908286" title="psyclone.psyGen.Schedule.tkinter\l_delete" alt="" coords="609,513,830,555"/>
<area shape="rect" id="node14" href="classpsyclone_1_1psyGen_1_1Loop.html#a5d3709966ecd13d15d8c59ef9a5b2d6d" title="psyclone.psyGen.Loop.tkinter\l_delete" alt="" coords="622,448,817,489"/>
<area shape="rect" id="node16" href="classpsyclone_1_1psyGen_1_1Call.html#aecd767d72b0ba3c3d8dd99885bbb15b8" title="psyclone.psyGen.Call.tkinter\l_delete" alt="" coords="624,579,815,620"/>
<area shape="rect" id="node28" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#ae39dd06329262fd85c329c304155b141" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_halo\l_read_depth_info" alt="" coords="619,1097,819,1153"/>
<area shape="rect" id="node29" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html#a6ca702fbdfcd162db042388a043bcc7d" title="psyclone.dynamo0p3.DynHalo\lExchange._compute_halo\l_write_info" alt="" coords="619,1017,819,1073"/>
</map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/psyclone/<a class="el" href="dynamo0p3_8py_source.html">dynamo0p3.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>psyclone</b></li><li class="navelem"><b>dynamo0p3</b></li><li class="navelem"><a class="el" href="classpsyclone_1_1dynamo0p3_1_1DynHaloExchange.html">DynHaloExchange</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
